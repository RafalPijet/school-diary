(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{140:function(e,t,a){e.exports=a.p+"static/media/teacherDesk.eea30744.png"},248:function(e,t,a){e.exports=a.p+"static/media/diaryLogo.f24d3a00.png"},259:function(e,t,a){e.exports=a.p+"static/media/backParentDark.6de5eea4.jpg"},260:function(e,t,a){e.exports=a.p+"static/media/backParentLight.b23944d8.jpg"},261:function(e,t,a){e.exports=a.p+"static/media/backTeacherDark.75f967c4.jpg"},262:function(e,t,a){e.exports=a.p+"static/media/backTeacherLight.55ff9960.jpg"},263:function(e,t,a){e.exports=a.p+"static/media/backPrincipalLight.8795e1fc.jpg"},264:function(e,t,a){e.exports=a.p+"static/media/backPrincipalDark.876ac37b.jpg"},265:function(e,t,a){e.exports=a.p+"static/media/showImage1.8446ab89.png"},266:function(e,t,a){e.exports=a.p+"static/media/showImage2.03216128.png"},267:function(e,t,a){e.exports=a.p+"static/media/showImage3.23afe85b.png"},268:function(e,t,a){e.exports=a.p+"static/media/showImage4.7f5f6703.png"},269:function(e,t,a){e.exports=a.p+"static/media/showImage5.6cfdcfe6.png"},270:function(e,t,a){e.exports=a.p+"static/media/showImage6.6a19ba9d.png"},271:function(e,t,a){e.exports=a.p+"static/media/showImage7.219dec97.png"},272:function(e,t,a){e.exports=a.p+"static/media/showImage8.8c90fda3.png"},273:function(e,t,a){e.exports=a.p+"static/media/showImage9.94f19c5e.png"},274:function(e,t,a){e.exports=a.p+"static/media/showImage10.035d4978.png"},275:function(e,t,a){e.exports=a.p+"static/media/showImage11.16239be9.png"},276:function(e,t,a){e.exports=a.p+"static/media/showImage12.96c4bd1b.png"},277:function(e,t,a){e.exports=a.p+"static/media/showImage13.34ba378f.png"},278:function(e,t,a){e.exports=a.p+"static/media/showImage14.2a54ea56.png"},288:function(e,t,a){e.exports=a.p+"static/media/ratings.19d18f80.jpg"},289:function(e,t,a){e.exports=a.p+"static/media/parent.259cd116.png"},290:function(e,t,a){e.exports=a.p+"static/media/teachers.900b077e.png"},291:function(e,t,a){e.exports=a.p+"static/media/classDiares.c490548d.jpg"},292:function(e,t,a){e.exports=a.p+"static/media/teacherData.1780bd21.jpg"},293:function(e,t,a){e.exports=a.p+"static/media/students.6e24284c.png"},294:function(e,t,a){e.exports=a.p+"static/media/principalTeachers.b75e9dee.png"},295:function(e,t,a){e.exports=a.p+"static/media/classes.572e54a7.png"},296:function(e,t,a){e.exports=a.p+"static/media/parents.d0e11e50.png"},321:function(e,t,a){e.exports=a(476)},351:function(e,t){},353:function(e,t){},386:function(e,t){},387:function(e,t){},452:function(e,t,a){},475:function(e,t,a){},476:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),s=a(25),i=a.n(s),l=a(105),o=a(10),u=a(38),d=function(e,t){return"app/".concat(e,"/").concat(t)},m=function(e,t){var a=0;return e.name>t.name?a=1:e.name<t.name&&(a=-1),a},p=function(e,t){var a=0;return e.lastName>t.lastName?a=1:e.lastName<t.lastName&&(a=-1),a},f=function(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}},g=["Hello, dear Teacher. We hope that our product will help you at work.","In the Class Diaries section you can choose the classes in which you teach.","While adding a new grade for a student, you can choose the grade's scale and description.","Remember that you can always edit or delete an existing rating.","In the Teacher's Data section you can see a list of all your students... ","...and their parents or guardians' contact details.","You can also edit your personal data."],h=["Here you can choose the diary of the class in which you teach.","To add a grade to the selected student, press the green icon...","...then, a window for setting the exact mark will open.","Hover over the stars' icons and set the grade's value. Click on the desired one.","Select the grade's scale and its description, then confirm by clicking the tick icon...","...the grade has been added. Look how easy and simple it is.","As you probably noticed, the grade's scale is determined by its color.","If you want to check the grade's description and date of issue, hover over it.","You can edit the parameters of an already issued grade.","In order to do this, click on the selected grade. A window in which you can change...","...the rating parameters will open. Be sure to confirm the changes by clicking the tick icon.","You can also delete the selected grade in this window."],b=["In the students' list section you have a preview of all the students you teach.","In addition to basic information about a given student,...","...you also see contact details of his parents or guardians there.","In the edit teacher's data section, you can edit your data.","Remember to change your password from time to time. This is important for your and your students' safety."],E=["Hello, dear Parent. Thank you for choosing our product.","Here, you can check the grades of all subjects.","You are also able to contact the teachers.","You can edit your data and check your children's."],j=["If you are the parent or guardian of more than one student,...","...select the one whose grades you are interested in viewing.","To check the selected grade's parameters, hover over it...","...you'll then see the grade's description, scale, date of issue, and the teacher who added it."],v=["Here you can view all students you are a parent or guardian of.","You can also edit your personal data."],O=["In this section you can see information about the class to which each...","... of your children is assigned.","You have access to the class teacher's contact details, as well as to the other teachers."],y=["Hello, dear Principal. Thank you for choosing our product","In the Classes section you can add new classes.","You can also change the list of students in each class.","You can assign teachers of a certain subject to a selected class.","You are able to determine who is the class teacher of each class.","In the Teachers section you have a list of all teachers with their contact details...","...and information about classes they teach and how many students are in them.","You can remove a selected teacher from the school's teachers list.","In the Students section you have a list of all students with information about their class...","...and contact details of their parents or guardians.","You can also add new students or edit the existing ones' data...","...as well as remove a selected student from the school's student list.","In the Parents section you can view information about all parents or guardians.","You can assign each student to the destined parents or guardians.","You can also delete an individual parent from the list."],N=["In this section you can add new classes and edit or delete already existing ones.","In order to create a new class, select a name from the list of available ones.","Then select a class teacher from the list of possible ones.","After choosing the name and the class teacher, click on the 'add class' button.","To edit the class, select a name from the list of available ones.","In the left window you can see a list of the class's students and on the right a list of teachers.","To change the student's list, click on the 'students' list change mode' button.","In the left window you will then see a list of the current class students, and on the right you will...","...see a list of students who are not yet assigned to any class.","Select the appropriate items and use the arrow buttons to change the lists' contents.","If you make a change, the 'Confirm new list content' button will turn green. Click on it to save the change.","To change the teachers' list, click on the 'class teachers' list change mode' button.","Editing the teachers' list is the same as in the students' case.","Don't forget to save the changes by clicking on the green button.","You can also change the class teacher.","Select the destined one from the list and confirm it by clicking 'replace the class teacher'.","To remove a selected class, click on the 'remove current class' button...","...remember, you can't undo this operation!"],x=["You can see a list of all teachers here.","As well as contact details for each one of them, a list of classes in which they teach,...","...and the number of their students.","You can remove a selected teacher from the teachers' list.","However, remember that for this to happen, you must make sure that the teacher that is to be removed...","... is not a class teacher or a teacher in any class."],w=["In the 'students' list' section you can see a list of all students in your school.","You will find information about each student and their parents or guardians here.","You can edit personal data about the selected student.","In order to do this, click on the green 'open edit mode' icon. You can then change their name, surname and date of birth.","If the data has changed, a green icon will appear in the place of the trash icon...","...click on it to save the changes.","In the 'add student' section you can add a new student.","Enter the new student's data and save it with the green button."],S=["This is a list of parents or guardians of all students in your school.","In the basic form of display you can see the contact details of each parent or guardian.","For more details, click on the chosen parent or guardian.","You will then see a list of students assigned to them.","You can assign individual students to the selected parent or guardian.","You can also remove the selected parent or guardian by clicking the 'remove parent' button."],C=["Select the Login button to log in as a user.","Select the Registration button to register in the system as a parent / guardian or a teacher."],k=["Enter your email address and password.","The system will check whether you are a registered user.","If the password is not correct, enter it again"],T=["Select your user type. If you are a teacher, choose your subject.","Enter the remaining data and set your password.","After entering all data correctly, the gray button will turn green.","Press the button. If everything goes right, the system will take you to the login section."],I=d("users","SET_LOGIN"),D=d("users","SET_REGISTER"),A=d("users","SET_USER"),R=d("users","UPDATE_USER_DATA"),P=d("users","LOAD_TEACHERS"),L=d("users","LOAD_PARENTS"),_=d("users","UPDATE_PARENT"),U=d("users","UPDATE_PARENT_STUDENT_CLASS_NAME"),z=d("users","LOAD_USERS_NAME"),q=d("users","REMOVE_USER_NAME"),B=d("users","ADD_PARENT"),F=d("users","ADD_CLASSNAME_TO_STUDENT"),M=function(e){return{isLogin:e,type:I}},Y=function(e){return{user:e,type:A}},W=function(e){return{teachers:e,type:P}},H=function(e){return{parents:e,type:L}},G=function(e,t){return{id:e,studentsList:t,type:_}},Q=function(e,t,a){return{parentId:e,studentId:t,className:a,type:U}},V=function(e){return{users:e,type:z}},X=function(e){return{id:e,type:q}},$=function(e){return{parent:e,type:B}},K=function(e){return e.user.isLogin},Z=function(e){return e.user.register},J=function(e){return e.user.user},ee=function(e){return e.user.user.id},te=function(e){return e.user.teachers},ae=function(e){return e.user.parents},ne=function(e){return e.user.usersName},re=function(e){return e.user.user.status},ce=d("values","SET_IS_DARK"),se=d("values","SET_IS_UPDATE_RATING"),ie=d("values","SET_IS_NEW_RATING"),le=d("values","SET_IS_STUDENT_MODE"),oe=d("values","SET_TUTOR_IS_USE"),ue=d("values","SET_PATH"),de=d("values","SET_MODAL_YES_NOT"),me=d("values","SET_MAX_BIRTH_DATE"),pe=d("values","SET_ALERT_SUCCESS"),fe=d("values","SET_AVAILABLE"),ge=function(e){return{isUpdate:e,type:se}},he=function(e){return{isStudentMode:e,type:le}},be=function(e){return{isUse:e,type:oe}},Ee=function(e){return{path:e,type:ue}},je=function(e,t){return{isOpen:e,content:t,type:de}},ve=function(e,t){return{isOpen:e,message:t,type:pe}},Oe=function(e){return{available:e,type:fe}},ye=function(e){return e.values.isDark},Ne=function(e){return e.values.isUpdateRating},xe=function(e){return e.values.isNewRating},we=function(e){return e.values.isStudentMode},Se=function(e){return e.values.tutorIsUse},Ce=function(e){return e.values.path},ke=function(e){return e.values.modalYesNot},Te=function(e){return e.values.ratingDescriptions},Ie=function(e){return e.values.ratingScales},De=function(e){return e.values.availableSubjects},Ae=function(e){return e.values.maxBirthDate},Re=function(e){return e.values.alertSuccess},Pe=function(e){return e.values.available},Le=a(302),_e=a(539),Ue=a(529),ze=a(527),qe=a(528),Be=a(525),Fe="14px",Me="5px",Ye="16px",We="20px",He="25px",Ge="#32ff7e",Qe="#a4b0be",Ve="600px",Xe=Object(Be.a)({root:{margin:"".concat(Fe," auto")}}),$e=function(e){var t=e.children,a=Xe();return c.a.createElement(c.a.Fragment,null,c.a.createElement(ze.a,null),c.a.createElement(qe.a,{maxWidth:"lg",className:a.root},c.a.createElement(Ue.a,{container:!0,item:!0,lg:12,spacing:2},t)))},Ke=a(3),Ze=a(2),Je=a(530),et=a(531),tt=Object(Be.a)((function(e){return{root:{height:600,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:e.palette.secondary.light},button:{width:"100%","&$selected":{color:e.palette.secondary.main}},selected:{color:e.palette.secondary.main},disabled:{color:e.palette.secondary.dark}}})),at=function(e){var t=e.links,a=e.setPath,n=e.path,s=tt(),i=Object(r.useState)("/"),l=Object(Ke.a)(i,2),o=l[0],d=l[1];Object(r.useEffect)((function(){n!==o&&d(n)}),[n]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Je.a,{value:o,onChange:function(e,t){a(t)},showLabels:!0,className:s.root},t.map((function(e,t){return c.a.createElement(et.a,{disabled:"/logout"===n,key:t,label:e.title,value:e.path,icon:e.icon,classes:{selected:s.selected},className:Object(Ze.a)(s.button,"/logout"===n?s.disabled:"")})}))),c.a.createElement(u.a,{to:o}))},nt=Object(o.b)((function(e){return{path:Ce(e)}}),(function(e){return{setPath:function(t){return e(Ee(t))}}}))(at),rt=a(303),ct=function(e){var t=e.image,a=e.name,n=e.myStyle;return c.a.createElement("img",{src:t,alt:a,className:n})},st=a(248),it=a.n(st),lt=a(111),ot=a.n(lt),ut=a(253),dt=a.n(ut),mt=a(135),pt=a.n(mt),ft=a(134),gt=a.n(ft),ht=a(108),bt=a.n(ht),Et=a(149),jt=a.n(Et),vt=a(249),Ot=a.n(vt),yt=a(250),Nt=a.n(yt),xt=a(180),wt=a.n(xt),St=a(251),Ct=a.n(St),kt=a(252),Tt=a.n(kt),It={loginLinks:[{path:"/",title:"Home",icon:c.a.createElement(ot.a,{fontSize:"large"})},{path:"/login",title:"LogIn",icon:c.a.createElement(Ot.a,{fontSize:"large"})},{path:"/registration",title:"Registration",icon:c.a.createElement(Nt.a,{fontSize:"large"})}],studentLinks:[{path:"/",title:"Home",icon:c.a.createElement(ot.a,{fontSize:"large"})},{path:"/grades",title:"Grades",icon:c.a.createElement(Ct.a,{fontSize:"large"})},{path:"/data",title:"Parent Data",icon:c.a.createElement(wt.a,{fontSize:"large"})},{path:"/teachers",title:"Teachers",icon:c.a.createElement(bt.a,{fontSize:"large"})},{path:"/logout",title:"LogOut",icon:c.a.createElement(jt.a,{fontSize:"large"})}],teacherLinks:[{path:"/",title:"Home",icon:c.a.createElement(ot.a,{fontSize:"large"})},{path:"/diaries",title:"Class Diaries",icon:c.a.createElement(Tt.a,{fontSize:"large"})},{path:"/data",title:"Teacher's data",icon:c.a.createElement(wt.a,{fontSize:"large"})},{path:"/logout",title:"LogOut",icon:c.a.createElement(jt.a,{fontSize:"large"})}],principalLinks:[{path:"/",title:"Home",icon:c.a.createElement(ot.a,{fontSize:"large"})},{path:"/classes",title:"Classes",icon:c.a.createElement(dt.a,{fontSize:"large"})},{path:"/teachers",title:"Teachers",icon:c.a.createElement(bt.a,{fontSize:"large"})},{path:"/students",title:"Students",icon:c.a.createElement(gt.a,{fontSize:"large"})},{path:"/parents",title:"Parents",icon:c.a.createElement(pt.a,{fontSize:"large"})},{path:"/logout",title:"LogOut",icon:c.a.createElement(jt.a,{fontSize:"large"})}]},Dt=Object(Be.a)((function(e){return{paperLogo:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:e.spacing(2),height:"105px",backgroundColor:e.palette.secondary.light},logo:{width:"170px",height:"65px",margin:"0"}}})),At=function(e){var t=Object(r.useState)([]),a=Object(Ke.a)(t,2),n=a[0],s=a[1],i=e.isLogin,l=e.loggedUser,o=It.loginLinks,u=It.studentLinks,d=It.teacherLinks,m=It.principalLinks,p=Dt();return Object(r.useEffect)((function(){i&&"parent"===l.status?s(u):i&&"teacher"===l.status?s(d):i&&"principal"===l.status?s(m):s(o)}),[i,l,o,m,u,d]),c.a.createElement(c.a.Fragment,null,c.a.createElement(rt.a,{elevation:9,className:p.paperLogo},c.a.createElement(ct,{image:it.a,name:"logo",myStyle:p.logo})),c.a.createElement(rt.a,{elevation:9},c.a.createElement(nt,{links:n})))},Rt=a(535),Pt=a(532),Lt=a(81),_t=Object(Be.a)((function(e){return{root:{display:"flex",alignItems:"center"},text:{color:e.palette.action.info,fontWeight:700,fontSize:16}}})),Ut=function(e){var t=e.isWorking,a=e.description,n=e.delay,s=e.duration,i=e.isContentChanging,l=e.changeHandling,o=Object(r.useState)(0),u=Object(Ke.a)(o,2),d=u[0],m=u[1],p=Object(r.useState)(0),f=Object(Ke.a)(p,2),g=f[0],h=f[1],b=Object(r.useState)(a[d]),E=Object(Ke.a)(b,2),j=E[0],v=E[1],O=Object(r.useState)(!1),y=Object(Ke.a)(O,2),N=y[0],x=y[1],w=_t();Object(r.useEffect)((function(){var e=null;return t?e=setInterval((function(){h((function(e){return e+1}))}),1e3):clearInterval(e),function(){clearInterval(e)}}),[t]),Object(r.useEffect)((function(){t?(g===n&&x(!0),g===s&&x(!1)):(x(!1),h(0))}),[g,t]),Object(r.useEffect)((function(){i&&x(!1)}),[i]);return c.a.createElement("div",{className:w.root},c.a.createElement(Pt.a,{in:N,timeout:1e3,onExited:function(){h(0),t?(d===a.length-1?(m(0),v(a[0])):(m(d+1),v(a[d+1])),i&&(l(!0),m(0),v(a[0]))):(m(0),v(a[0]))}},c.a.createElement(Lt.a,{className:w.text,align:"center"},j)))},zt=a(254),qt=a.n(zt),Bt=a(533),Ft=a(534),Mt=function(e){return{root:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(1),padding:"".concat(Me),height:"37px",backgroundColor:e.palette.secondary.light},authorBox:{width:190,display:"flex",justifyContent:"center",alignItems:"center"},author:{color:e.palette.primary.light},icon:{color:e.palette.primary.light}}},Yt=Object(Be.a)((function(e){return Mt(e)})),Wt=function(e){var t=e.isLogin,a=e.path,n=e.userStatus,s=Object(r.useState)(!1),i=Object(Ke.a)(s,2),l=i[0],o=i[1],u=Object(r.useState)(C),d=Object(Ke.a)(u,2),m=d[0],p=d[1],f=Object(r.useState)(!0),I=Object(Ke.a)(f,2),D=I[0],A=I[1],R=Yt();Object(r.useEffect)((function(){if(o(!0),t){if("teacher"===n)switch(a){case"/diaries":p(h);break;case"/data":p(b);break;default:p(g)}else if("parent"===n)switch(a){case"/grades":p(j);break;case"/data":p(v);break;case"/teachers":p(O);break;default:p(E)}else if("principal"===n)switch(a){case"/classes":p(N);break;case"/teachers":p(x);break;case"/students":p(w);break;case"/parents":p(S);break;default:p(y)}}else switch(a){case"/login":p(k);break;case"/registration":p(T);break;default:p(C)}}),[t,a]);return c.a.createElement(rt.a,{elevation:9,className:R.root},c.a.createElement("div",{className:R.authorBox},c.a.createElement(Lt.a,{className:R.author,variant:"subtitle2"},"2020 \xa9 ",c.a.createElement(Bt.a,{className:R.author,href:"mailto:rafal.pijet@gmail.com"},"Rafal Pijet"))),c.a.createElement(Ut,{isWorking:D,description:m,delay:1,duration:8,isContentChanging:l,changeHandling:function(e){o(!e)}}),c.a.createElement("div",null,c.a.createElement(qt.a,{className:R.icon}),c.a.createElement(Ft.a,{title:D?"off Tips":"on Tips",placement:"bottom",arrow:!0,TransitionComponent:Pt.a,enterDelay:2e3},c.a.createElement("span",null,c.a.createElement(Rt.a,{size:"small",name:"changeTips",checked:D,onChange:function(){A(!D)}})))))},Ht=Object(o.b)((function(e){return{isLogin:K(e),path:Ce(e),userStatus:re(e)}}))(Wt),Gt=a(7),Qt=a.n(Gt),Vt=a(12),Xt=a(257),$t=a.n(Xt),Kt=a(258),Zt=a.n(Kt),Jt=Object(Be.a)((function(e){return{root:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(1),padding:"".concat(Me),height:"37px",backgroundColor:e.palette.secondary.light},iconOnLine:{color:"".concat(Ge)},iconOffLine:{color:"".concat(Qe)},switch:{display:"inherit",justifyContent:"flex-end",alignItems:"center"},login:{display:"inherit",justifyContent:"flex-start",alignItems:"center"},user:{padding:"3px 0 0 6px",fontSize:"".concat(Fe)},icon:{color:e.palette.primary.light}}})),ea=function(e){var t=e.isLogin,a=e.setIsDark,n=e.user,s=n.firstName,i=n.lastName,l=n.status,o=Object(r.useState)(!1),u=Object(Ke.a)(o,2),d=u[0],m=u[1],p=Jt(),f=function(){var e=Object(Vt.a)(Qt.a.mark((function e(){return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(!d);case 2:a(d);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(rt.a,{elevation:9,className:p.root},c.a.createElement(Ue.a,{item:!0,lg:10,className:p.login},c.a.createElement($t.a,{className:t?p.iconOnLine:p.iconOffLine}),c.a.createElement(Lt.a,{className:p.user,display:"inline",variant:"subtitle1",color:"primary",hidden:!t}," ".concat(t?s.toUpperCase():""," ").concat(t?i.toUpperCase():""," - ").concat(t?l:""))),c.a.createElement(Ue.a,{item:!0,lg:2,className:p.switch},c.a.createElement(Zt.a,{className:p.icon}),c.a.createElement(Ft.a,{title:d?"set dark mode":"set light mode",placement:"bottom",arrow:!0,TransitionComponent:Pt.a,enterDelay:2e3},c.a.createElement("span",null,c.a.createElement(Rt.a,{size:"small",checked:d,onChange:f,name:"changeTheme",inputProps:{"aria-label":"secondary checkbox"}})))))},ta=Object(o.b)((function(e){return{user:J(e),isLogin:K(e)}}),(function(e){return{setIsDark:function(t){return e(function(e){return{isDark:e,type:ce}}(t))}}}))(ea),aa=a(27),na=a(145),ra=a(148),ca=a(146),sa=a(147),ia=a(536),la=a(537),oa=a(538),ua=a(259),da=a.n(ua),ma=a(260),pa=a.n(ma),fa=a(261),ga=a.n(fa),ha=a(262),ba=a.n(ha),Ea=a(263),ja=a.n(Ea),va=a(264),Oa=a.n(va),ya="dark",Na="light",xa=(n={},Object(aa.a)(n,Na,{palette:{type:"light",primary:{light:na.a[600],main:"#000",dark:ra.a[200]},secondary:{light:na.a[300],main:"#009dde",dark:na.a[200]},action:{light:ca.a[500],main:ca.a[500],dark:ra.a[500],warning:sa.a[700],tab:ia.a[100],adding:ia.a[300],check:ia.a[400],header:na.a[200],item:na.a[300],title:la.a[400],info:na.a[800]},scales:{first:oa.a[500],second:sa.a[700],third:ca.a[700]},background:{parent:"url(".concat(pa.a,")"),teacher:"url(".concat(ba.a,")"),principal:"url(".concat(ja.a,")")}},typography:{subtitle2:{fontWeight:800}}}),Object(aa.a)(n,ya,{palette:{type:"dark",primary:{light:na.a[400],main:na.a[100],dark:ra.a[600]},secondary:{light:na.a[800],main:"#009dde",dark:na.a[700]},action:{light:ca.a[300],main:ca.a[500],dark:ra.a[400],warning:sa.a[500],tab:ia.a[700],adding:ia.a[600],check:ia.a[400],header:na.a[700],item:na.a[600],title:na.a[200],info:na.a[300]},scales:{first:la.a[200],second:sa.a[400],third:ca.a[300]},background:{parent:"url(".concat(da.a,")"),teacher:"url(".concat(ga.a,")"),principal:"url(".concat(Oa.a,")")}},typography:{subtitle2:{fontWeight:800}}}),n),wa=xa,Sa=function(e){var t=e.children,a=e.isLogin,n=e.loggedUser,r=e.isDark,s=Object(Le.a)(wa["".concat(r?"dark":"light")]);return c.a.createElement(_e.a,{theme:s},c.a.createElement($e,null,c.a.createElement(Ue.a,{item:!0,lg:2},c.a.createElement(At,{isLogin:a,loggedUser:n})),c.a.createElement(Ue.a,{item:!0,lg:10},c.a.createElement(ta,null),t),c.a.createElement(Ue.a,{item:!0,lg:12},c.a.createElement(Ht,null))))},Ca=Object(Be.a)((function(e){return{root:{marginBottom:e.spacing(2),backgroundColor:e.palette.secondary.light},info:{padding:Fe,textAlign:"center",fontWeight:600}}})),ka=function(e){var t=e.children,a=Ca();return c.a.createElement(rt.a,{elevation:9,className:a.root},c.a.createElement(Lt.a,{className:a.info,variant:"h5",color:"secondary"},t))},Ta=a(304),Ia=a(576),Da=a(480),Aa=a(280),Ra=a.n(Aa),Pa=a(279),La=a.n(Pa),_a=function(e){return{root:{width:"100%",height:Ve,padding:Fe,position:"relative",display:"flex",flexDirection:"column-reverse"},first:{position:"absolute",width:550,height:360,top:60,left:10,right:0,bottom:0,backgroundColor:e.palette.secondary.light},second:{position:"absolute",width:550,height:360,top:10,left:450,right:0,bottom:0,backgroundColor:e.palette.secondary.light},third:{position:"absolute",width:550,height:360,top:230,left:230,right:0,bottom:0,backgroundColor:e.palette.secondary.light},description:{width:"100%",padding:"".concat(Me," 0")},footer:{display:"flex",justifyContent:"flex-end",alignItems:"center"},slider:{width:100},operation:{width:200,display:"flex",justifyContent:"space-around"}}},Ua=a(265),za=a.n(Ua),qa=a(266),Ba=a.n(qa),Fa=a(267),Ma=a.n(Fa),Ya=a(268),Wa=a.n(Ya),Ha=a(269),Ga=a.n(Ha),Qa=a(270),Va=a.n(Qa),Xa=a(271),$a=a.n(Xa),Ka=a(272),Za=a.n(Ka),Ja=a(273),en=a.n(Ja),tn=a(274),an=a.n(tn),nn=a(275),rn=a.n(nn),cn=a(276),sn=a.n(cn),ln=a(277),on=a.n(ln),un=a(278),dn=a.n(un),mn=Object(Be.a)((function(e){return _a(e)})),pn=[{image:za.a,description:"Parent or guardian's home page (dark mode)"},{image:Ba.a,description:"Teacher's home page (light mode)"},{image:Ma.a,description:"Principal's home page"},{image:Wa.a,description:"Parent's data section"},{image:Ga.a,description:"Selected student's grades viewed from their parent's account"},{image:Va.a,description:"Teachers' contact data viewed by a parent"},{image:$a.a,description:"Adding a grade from a teacher's account"},{image:Za.a,description:"Editing a grade from a teacher's account"},{image:en.a,description:"Students' list in the teacher's mode"},{image:an.a,description:"Configuration panel of the selected class in the principal mode"},{image:rn.a,description:"Editable list of teachers viewed from the principal's mode"},{image:sn.a,description:"List of teachers in the principal mode"},{image:on.a,description:"List of students in the principal mode"},{image:dn.a,description:"List of parents or guardians in the principal mode"}],fn=function(){var e=Object(r.useState)(2),t=Object(Ke.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)(5),i=Object(Ke.a)(s,2),l=i[0],o=i[1],u=Object(r.useState)(0),d=Object(Ke.a)(u,2),m=d[0],p=d[1],f=Object(r.useState)(!0),g=Object(Ke.a)(f,2),h=g[0],b=g[1],E=Object(r.useState)(10),j=Object(Ke.a)(E,2),v=j[0],O=j[1],y=Object(r.useState)(20),N=Object(Ke.a)(y,2),x=N[0],w=N[1],S=Object(r.useState)(30),C=Object(Ke.a)(S,2),k=C[0],T=C[1],I=Object(r.useState)(!1),D=Object(Ke.a)(I,2),A=D[0],R=D[1],P=Object(r.useState)(!1),L=Object(Ke.a)(P,2),_=L[0],U=L[1],z=Object(r.useState)(!1),q=Object(Ke.a)(z,2),B=q[0],F=q[1],M=Object(r.useState)(pn[0]),Y=Object(Ke.a)(M,2),W=Y[0],H=Y[1],G=Object(r.useState)(pn[1]),Q=Object(Ke.a)(G,2),V=Q[0],X=Q[1],$=Object(r.useState)(pn[2]),K=Object(Ke.a)($,2),Z=K[0],J=K[1],ee=Object(r.useState)(!1),te=Object(Ke.a)(ee,2),ae=te[0],ne=te[1],re=Object(r.useState)(!1),ce=Object(Ke.a)(re,2),se=ce[0],ie=ce[1],le=Object(r.useState)(!1),oe=Object(Ke.a)(le,2),ue=oe[0],de=oe[1],me=mn();Object(r.useEffect)((function(){var e=setInterval((function(){h&&p((function(e){return e+1}))}),1e3);return function(){clearInterval(e)}}),[h]),Object(r.useEffect)((function(){h&&(0===m&&R(!0),m===l&&(U(!0),_&&U(!1)),m===2*l&&(F(!0),B&&F(!1)),m===3*l&&R(!1))}),[m,l,h]),Object(r.useEffect)((function(){var e=0;return ae&&(e=setTimeout((function(){return p(0)}),500)),se&&(e=setTimeout((function(){return U(!0)}),500)),ue&&(e=setTimeout((function(){return F(!0)}),500)),function(){clearTimeout(e)}}),[ae,se,ue]);var pe=function(e){return new Promise((function(t){return t(function(e){1===e?(a!==pn.length-1?(H(pn[a+1]),n((function(e){return e+1}))):(H(pn[0]),n(0)),O(30),T(20),w(10)):2===e?(a!==pn.length-1?(X(pn[a+1]),n((function(e){return e+1}))):(X(pn[0]),n(0)),w(30),O(20),T(10)):(a!==pn.length-1?(J(pn[a+1]),n((function(e){return e+1}))):(J(pn[0]),n(0)),T(30),w(20),O(10))}(e))}))};return c.a.createElement(rt.a,{elevation:9,className:me.root},c.a.createElement(Da.a,{in:A,timeout:1e3,onEntered:function(){return ne(!1)},onExited:function(){pe(1).then((function(){return ne(!0)}))}},c.a.createElement(rt.a,{elevation:9,className:me.first,style:{zIndex:"".concat(v)}},c.a.createElement("img",{src:W.image,alt:W.description}),c.a.createElement(Lt.a,{align:"center",className:me.description},W.description))),c.a.createElement(Da.a,{in:_,timeout:1e3,onEntered:function(){return ie(!1)},onExited:function(){pe(2).then((function(){return ie(!0)}))}},c.a.createElement(rt.a,{elevation:9,className:me.second,style:{zIndex:"".concat(x)}},c.a.createElement("img",{src:V.image,alt:V.description}),c.a.createElement(Lt.a,{align:"center",className:me.description},V.description))),c.a.createElement(Da.a,{in:B,timeout:1e3,onEntered:function(){return de(!1)},onExited:function(){pe(3).then((function(){return de(!0)}))}},c.a.createElement(rt.a,{elevation:9,className:me.third,style:{zIndex:"".concat(k)}},c.a.createElement("img",{src:Z.image,alt:Z.description}),c.a.createElement(Lt.a,{align:"center",className:me.description},Z.description))),c.a.createElement("div",{className:me.footer},c.a.createElement("div",{className:me.operation},c.a.createElement(Ft.a,{title:h?"pause":"play",placement:"bottom",arrow:!0,TransitionComponent:Pt.a,enterDelay:2e3},c.a.createElement("span",null,c.a.createElement(Ta.a,{size:"small",onClick:function(){return b(!h)}},h?c.a.createElement(La.a,{fontSize:"small"}):c.a.createElement(Ra.a,{fontSize:"small"})))),c.a.createElement(Ft.a,{title:"change speed",placement:"bottom",arrow:!0,TransitionComponent:Pt.a,enterDelay:2e3},c.a.createElement("span",null,c.a.createElement(Ia.a,{disabled:h,getAriaValueText:function(e){return"".concat(e)},className:me.slider,defaultValue:5,step:1,min:2,max:10,valueLabelDisplay:"auto",color:"secondary",value:l,onChange:function(e,t){o(t),10===v?p(3*l):10===x?p(l):10===k&&p(2*l),R(!0),U(!0),F(!0)}}))))))},gn=function(){return c.a.createElement("div",null,c.a.createElement(ka,null,"Welcome to School Diary"),c.a.createElement(fn,null))},hn=a(28),bn=a(16),En=a.n(bn),jn="https://school-diary-rp.herokuapp.com/api",vn=a(95),On=a.n(vn),yn=d("class","LOAD_CLASS_BY_TEACHER_ID"),Nn=d("class","LOAD_ALL_CLASSES"),xn=d("class","SELECT_CLASS"),wn=d("class","ADD_RATING_TO_STUDENT"),Sn=d("class","UPDATE_RATING_TO_STUDENT"),Cn=d("class","ADD_NEW_CLASS"),kn=d("class","UPDATE_STUDENT_IN_TEACHER_CLASS"),Tn=d("class","UPDATE_DATA_IN_SELECTED_CLASS"),In=d("class","UPDATE_TUTOR_IN_SELECTED_CLASS"),Dn=d("class","UPDATE_TUTOR_IN_ALL_CLASSES"),An=d("class","UPDATE_LIST_IN_SELECTED_CLASS"),Rn=d("class","DELETE_CLASS_IN_ALL_CLASSES"),Pn=function(e){return{allClass:e,type:yn}},Ln=function(e){return{allClasses:e,type:Nn}},_n=function(e){return{classItem:e,type:xn}},Un=function(e,t){return{classId:e,rating:t,type:wn}},zn=function(e,t,a){return{classId:e,studentId:t,rating:a,type:Sn}},qn=function(e){return{newClass:e,type:Cn}},Bn=function(e){return{student:e,type:kn}},Fn=function(e){return{id:e,type:Rn}},Mn=function(e){return e.classes.teacherAllClass},Yn=function(e){return e.classes.allClasses},Wn=function(e){return e.classes.selectedClass},Hn=function(e){return e.classes.availableNames},Gn=d("request","START_REQUEST"),Qn=d("request","STOP_REQUEST"),Vn=d("request","ERROR_REQUEST"),Xn=d("request","RESET_REQUEST"),$n=d("request","START_ADDING_REQUEST"),Kn=d("request","STOP_ADDING_REQUEST"),Zn=d("request","START_WORKING_REQUEST"),Jn=d("request","STOP_WORKING_REQUEST"),er=d("request","START_UPDATING_REQUEST"),tr=d("request","STOP_UPDATING_REQUEST"),ar=d("request","START_GETING_REQUEST"),nr=d("request","STOP_GETING_REQUEST"),rr=function(){return{type:Gn}},cr=function(){return{type:Qn}},sr=function(e){return{error:e,type:Vn}},ir=function(){return{type:Xn}},lr=function(){return{type:$n}},or=function(){return{type:Kn}},ur=function(){return{type:Zn}},dr=function(){return{type:Jn}},mr=function(){return{type:er}},pr=function(){return{type:tr}},fr=function(){return{type:ar}},gr=function(){return{type:nr}},hr=function(e){return e.request},br=d("students","LOAD_ALL_STUDENTS"),Er=d("students","ADD_STUDENT"),jr=d("students","UPDATE_STUDENT"),vr=d("students","SET_FREE_STUDENTS"),Or=d("students","SET_CLASSES_STUDENTS"),yr=function(e){return{students:e,type:br}},Nr=function(e){return{student:e,type:Er}},xr=function(e){return{student:e,type:jr}},wr=function(e){return{students:e,type:vr}},Sr=function(e){return{students:e,type:Or}},Cr=function(e){return e.students.allStudents},kr=function(e){return e.students.allStudents.length},Tr=function(e){return e.students.freeStudents},Ir=function(e){return e.students.classesStudents},Dr=a(92),Ar=a(281),Rr=a(8),Pr={isLogin:!1,register:{email:{},password:{}},teachers:[],parents:[],usersName:[],user:{}},Lr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(Rr.a)({},e,{isLogin:t.isLogin});case D:return Object(Rr.a)({},e,{register:{email:t.login.email,password:t.login.password}});case A:return Object(Rr.a)({},e,{user:t.user});case R:return Object(Rr.a)({},e,{user:Object(Rr.a)({},e.user,{firstName:t.data.firstName,lastName:t.data.lastName,email:t.data.email,telephone:t.data.telephone})});case P:return Object(Rr.a)({},e,{teachers:t.teachers});case L:return Object(Rr.a)({},e,{parents:t.parents});case B:return Object(Rr.a)({},e,{parents:[].concat(Object(hn.a)(e.parents),[t.parent])});case _:return Object(Rr.a)({},e,{parents:e.parents.map((function(e){return e.id===t.id&&(e.students=t.studentsList),e}))});case U:return Object(Rr.a)({},e,{parents:e.parents.map((function(e){return e.id===t.parentId&&e.students.map((function(e){return e.id===t.studentId&&(e.className=t.className),e})),e}))});case z:return Object(Rr.a)({},e,{usersName:t.users});case q:return Object(Rr.a)({},e,{usersName:e.usersName.filter((function(e){return e.id!==t.id}))});case F:return Object(Rr.a)({},e,{user:Object(Rr.a)({},e.user,{students:e.user.students.map((function(e){return e.id===t.studentId&&(e.className=t.className),e}))})});default:return e}},_r={pending:!1,error:null,success:null,adding:!1,working:!1,updating:!1,geting:!1},Ur=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_r,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Gn:return Object(Rr.a)({},e,{pending:!0,error:null,success:null,adding:!1});case Qn:return Object(Rr.a)({},e,{pending:!1,error:null,success:!0,adding:!1});case Vn:return Object(Rr.a)({},e,{pending:!1,error:t.error,success:!1,adding:!1,working:!1});case Xn:return Object(Rr.a)({},e,{pending:!1,error:null,success:null,adding:!1,working:!1,updating:!1,geting:!1});case $n:return Object(Rr.a)({},e,{pending:!1,error:null,success:!0,adding:!0,working:!1});case Kn:return Object(Rr.a)({},e,{pending:!1,error:null,success:!0,adding:!1,working:!1});case Zn:return Object(Rr.a)({},e,{pending:!1,error:null,success:!0,adding:!1,working:!0});case Jn:return Object(Rr.a)({},e,{pending:!1,error:null,success:!0,adding:!1,working:!1});case er:return Object(Rr.a)({},e,{updating:!0});case tr:return Object(Rr.a)({},e,{updating:!1});case ar:return Object(Rr.a)({},e,{geting:!0});case nr:return Object(Rr.a)({},e,{geting:!1});default:return e}},zr={allClasses:[],teacherAllClass:[],selectedClass:{},availableNames:{grade:["4","5","6","7","8"],type:["A","B","C","D","E","F","G","H"]}},qr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yn:return Object(Rr.a)({},e,{teacherAllClass:t.allClass});case Nn:return Object(Rr.a)({},e,{allClasses:t.allClasses});case xn:return Object(Rr.a)({},e,{selectedClass:t.classItem});case wn:if(e.selectedClass.id===t.classId)return Object(Rr.a)({},e,{selectedClass:Object(Rr.a)({},e.selectedClass,{students:e.selectedClass.students.map((function(e){return e.ratings.forEach((function(a){a.id===t.rating.id&&(e.ratings[e.ratings.indexOf(a)]=t.rating)})),e}))})});break;case Sn:if(e.selectedClass.id===t.classId)return Object(Rr.a)({},e,{selectedClass:Object(Rr.a)({},e.selectedClass,{students:e.selectedClass.students.map((function(e){return e.id===t.studentId&&(e.ratings=e.ratings.map((function(e){return e.id===t.rating.id?t.rating:e}))),e}))})});break;case Cn:return Object(Rr.a)({},e,{allClasses:[].concat(Object(hn.a)(e.allClasses),[t.newClass])});case kn:return Object(Rr.a)({},e,{selectedClass:Object(Rr.a)({},e.selectedClass,{students:e.selectedClass.students.map((function(e){return e.id===t.student.id?t.student:e}))})});case Tn:return Object(Rr.a)({},e,{selectedClass:Object(Rr.a)({},e.selectedClass,{students:t.data.students,subjectTeachers:t.data.subjectTeachers})});case In:return Object(Rr.a)({},e,{selectedClass:Object(Rr.a)({},e.selectedClass,{mainTeacher:t.tutor})});case Dn:return Object(Rr.a)({},e,{allClasses:e.allClasses.map((function(e){return e.id===t.classId&&(e.mainTeacher={id:t.tutorId}),e}))});case An:return Object(Rr.a)({},e,{selectedClass:Object(Rr.a)({},e.selectedClass,Object(aa.a)({},t.isStudent?"students":"subjectTeachers",t.list))});case Rn:return Object(Rr.a)({},e,{allClasses:e.allClasses.filter((function(e){return e.id!==t.id}))});default:return e}},Br={isDark:!0,isUpdateRating:!1,isNewRating:!1,isStudentMode:!0,tutorIsUse:!0,path:"/",modalYesNot:{isOpen:!1,content:{description:"",data:{}}},ratingDescriptions:["homework","teamwork","school test","response"],ratingScales:[1,2,3],availableSubjects:{all:["english","polish","german","math","biology","history","geography","physics","chemistry","information","physical education","form period","social studies","career counseling","music","art","family life education","technology","natural science","safety education"],class8:["polish","math","english","german","history","geography","biology","chemistry","physics","informatics","physical education","form period","social studies","safety education","career counseling"],class7:["polish","math","english","german","history","geography","biology","chemistry","physics","informatics","physical education","form period","family life education","music","art","career counseling"],class6:["polish","math","english","history","natural science","technology","music","art","informatics","physical education","form period","family life education"],class5:["biology","geography","history","informatics","english","polish","math","music","art","technology","family life education","physical education","form period"],class4:["history","informatics","english","polish","math","music","art","natural science","technology","family life education","physical education","form period"]},maxBirthDate:"2014-01-01",alertSuccess:{isOpen:!1,message:""},available:[]},Fr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object(Rr.a)({},e,{isDark:t.isDark});case se:return Object(Rr.a)({},e,{isUpdateRating:t.isUpdate});case ie:return Object(Rr.a)({},e,{isNewRating:t.isNewRating});case le:return Object(Rr.a)({},e,{isStudentMode:t.isStudentMode});case oe:return Object(Rr.a)({},e,{tutorIsUse:t.isUse});case ue:return Object(Rr.a)({},e,{path:t.path});case de:return Object(Rr.a)({},e,{modalYesNot:{isOpen:t.isOpen,content:t.content}});case me:return Object(Rr.a)({},e,{maxBirthDate:t.date});case pe:return Object(Rr.a)({},e,{alertSuccess:{isOpen:t.isOpen,message:t.message}});case fe:return Object(Rr.a)({},e,{available:t.available});default:return e}},Mr={allStudents:[],freeStudents:[],classesStudents:[]},Yr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case br:return Object(Rr.a)({},e,{allStudents:t.students});case Er:return Object(Rr.a)({},e,{allStudents:[].concat(Object(hn.a)(e.allStudents),[t.student])});case jr:return Object(Rr.a)({},e,{allStudents:e.allStudents.map((function(e){return e.id===t.student.id?t.student:e}))});case vr:return Object(Rr.a)({},e,{freeStudents:t.students});case Or:return Object(Rr.a)({},e,{classesStudents:t.students});default:return e}},Wr=Object(Dr.c)({user:Lr,request:Ur,classes:qr,values:Fr,students:Yr}),Hr=Object(Dr.d)(Wr,Object(Dr.a)(Ar.a)),Gr=function(){return function(){var e=Object(Vt.a)(Qt.a.mark((function e(t){var a;return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(mr()),e.prev=1,e.next=4,En.a.get("".concat(jn,"/classes/students"));case 4:a=e.sent,t(Sr(a.data)),t(pr()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(sr(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},Qr=function(e){return function(){var t=Object(Vt.a)(Qt.a.mark((function t(a){var n;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(rr()),t.prev=1,t.next=4,En.a.get("".concat(jn,"/classes/").concat(e));case 4:n=t.sent,a(Pn(n.data)),a(cr()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a(sr(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},Vr=function(e,t){return function(){var a=Object(Vt.a)(Qt.a.mark((function a(n){var r,c,s,i,l,o,u,d,m,p;return Qt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(rr()),a.prev=1,r=Math.ceil((e-1)*t),c=t,a.next=6,En.a.get("".concat(jn,"/users/teacher/").concat(r,"/").concat(c));case 6:return s=a.sent,i=s.data.map((function(e){return e.id})),l=s.data,a.next=11,En.a.get("".concat(jn,"/classes/teachers/name"),{params:{teachersId:i}});case 11:return o=a.sent,u=o.data,d=u.teachersInClass,m=u.tutors,p=m.map((function(e){return e.tutorId})),a.next=16,l.forEach((function(e){var t=[];p.includes(e.id)?e.tutorClass=m.find((function(t){return t.tutorId===e.id})).tutorClass:e.tutorClass="no assigned",d.forEach((function(a){a.id===e.id&&(t=[].concat(Object(hn.a)(t),[{className:a.className,studentsAmount:a.studentsAmount}]))})),e.teacherClasses=t}));case 16:n(W(l)),n(cr()),a.next=23;break;case 20:a.prev=20,a.t0=a.catch(1),n(sr(a.t0.message));case 23:case"end":return a.stop()}}),a,null,[[1,20]])})));return function(e){return a.apply(this,arguments)}}()},Xr=function(e,t){return function(){var a=Object(Vt.a)(Qt.a.mark((function a(n){var r,c,s,i,l,o,u,d,m;return Qt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(rr()),a.prev=1,r=[],c=[],s=Math.ceil((e-1)*t),i=t,a.next=8,En.a.get("".concat(jn,"/users/parent/").concat(s,"/").concat(i));case 8:return l=a.sent,o=Hr.getState().students.allStudents,u=[],a.next=13,l.data.forEach((function(e){var t=[];o.forEach((function(a){e.students.includes(a._id)&&(t.push(a),u=[].concat(Object(hn.a)(u),[a.id]))})),e.students=t}));case 13:if(!u.length){a.next=19;break}return a.next=16,En.a.get("".concat(jn,"/classes/students/name"),{params:{studentsId:u}});case 16:d=a.sent,c=d.data,r=c.map((function(e){return e.id}));case 19:return m=l.data,a.next=22,m.forEach((function(e){e.students=e.students.map((function(e){return r.includes(e.id)?e.className=c.find((function(t){return t.id===e.id})).name:e.className="none class",e}))}));case 22:n(H(m)),n(cr()),a.next=29;break;case 26:a.prev=26,a.t0=a.catch(1),n(sr(a.t0.message));case 29:case"end":return a.stop()}}),a,null,[[1,26]])})));return function(e){return a.apply(this,arguments)}}()},$r=function(e){return function(){var t=Object(Vt.a)(Qt.a.mark((function t(a){var n;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(ur()),t.prev=1,t.next=4,En.a.get("".concat(jn,"/users/name/").concat(e));case 4:n=t.sent,a(V(n.data)),a(dr()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a(sr(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},Kr=function(e,t){return function(){var a=Object(Vt.a)(Qt.a.mark((function a(n){var r,c,s,i,l,o;return Qt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(fr()),a.prev=1,r=[],c=Math.ceil((e-1)*t),s=t,a.next=7,En.a.get("".concat(jn,"/students/").concat(c,"/").concat(s));case 7:return i=a.sent,l=i.data.map((function(e){return e.id})),a.next=11,En.a.get("".concat(jn,"/classes/students/name"),{params:{studentsId:l}});case 11:return o=a.sent,a.next=14,i.data.forEach((function(e){o.data.forEach((function(t){e.id===t.id&&(r=[].concat(Object(hn.a)(r),[{id:e.id,className:t.name,firstName:e.firstName,lastName:e.lastName,birthDate:e.birthDate,parents:e.parents}]))}))}));case 14:l=r.map((function(e){return e.id})),i.data.forEach((function(e){l.includes(e.id)||(e.className="no assigned",r=[].concat(Object(hn.a)(r),[e]))})),n(yr(r)),n(gr()),a.next=23;break;case 20:a.prev=20,a.t0=a.catch(1),n(sr(a.t0.message));case 23:case"end":return a.stop()}}),a,null,[[1,20]])})));return function(e){return a.apply(this,arguments)}}()},Zr=function(){return function(){var e=Object(Vt.a)(Qt.a.mark((function e(t){var a;return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ur()),e.prev=1,e.next=4,En.a.get("".concat(jn,"/students/names"));case 4:a=e.sent,t(wr(a.data)),t(dr()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(sr(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},Jr=function(e){return function(){var t=Object(Vt.a)(Qt.a.mark((function t(a){var n,r;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(fr()),t.prev=1,t.next=4,En.a.get("".concat(jn,"/classes/students/name"),{params:{studentsId:e}});case 4:n=t.sent,(r=n.data).length&&r.forEach((function(e){var t,n;a((t=e.id,n=e.name,{studentId:t,className:n,type:F}))})),a(gr()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a(sr(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},ec=a(61),tc=a(540),ac=a(582),nc=a(568),rc=a(544),cc=Object(Be.a)((function(e){return{disabled:{color:e.palette.secondary.dark}}})),sc=function(e){var t=e.selectTitle,a=e.isDisabled,n=e.options,s=e.takeSelected,i=Object(ec.a)(e,["selectTitle","isDisabled","options","takeSelected"]),l=Object(r.useState)(void 0===a?n[0]:""),o=Object(Ke.a)(l,2),u=o[0],d=o[1],m=cc();return Object(r.useEffect)((function(){void 0!==a&&a&&d(""),s(u)}),[u,a,s]),c.a.createElement(tc.a,null,c.a.createElement(ac.a,{className:a?m.disabled:"",id:t},t),c.a.createElement(nc.a,Object.assign({},i,{labelId:t,id:"select-".concat(t),disabled:a,value:u,onChange:function(e){return d(e.target.value)}}),n.map((function(e,t){return c.a.createElement(rc.a,{key:t,value:e},e)}))))},ic=a(578),lc=a(40),oc=a.n(lc),uc=a(547),dc=a(282),mc=a.n(dc),pc=function(e){var t=e.inputRef,a=Object(ec.a)(e,["inputRef"]);return c.a.createElement(mc.a,Object.assign({},a,{ref:function(e){t(e?e.inputElement:null)},mask:["(","0","0",/[0-9]/,/[0-9]/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/],placeholderChar:"\u2000",showMask:!0}))},fc=a(579),gc=(a(452),function(e){var t=Object.assign({},e);return c.a.createElement("div",Object.assign({className:"spinner-main"},t),c.a.createElement(fc.a,{size:"sm",color:"info"}),c.a.createElement(fc.a,{style:{margin:"0 20px"},size:"sm",color:"info"}),c.a.createElement(fc.a,{size:"sm",color:"info"}))}),hc=a(284),bc=a.n(hc),Ec=a(575),jc=a(546),vc=a(545),Oc=a(285),yc=a.n(Oc),Nc=function(e){return c.a.createElement(vc.a,Object.assign({},e,{direction:"left"}))},xc=bc()((function(e){return{rootMessage:{backgroundColor:"inherit",color:"#fff"},success:{backgroundColor:e.palette.action.dark},error:{backgroundColor:e.palette.action.light},row:{display:"flex",justifyContent:"center",alignItems:"center"}}})),wc=function(e){var t=e.message,a=e.className,n=e.variant,r=xc();return c.a.createElement("div",{className:r.row},"success"===n?c.a.createElement(oc.a,{className:a}):c.a.createElement(yc.a,{className:a}),c.a.createElement(Lt.a,{className:a,style:{paddingLeft:"10px"}},t))},Sc=function(e){var t=e.message,a=e.isOpenAlert,n=e.variant,s=e.handleCloseHandling,i=e.duration,l=Object(r.useState)(!1),o=Object(Ke.a)(l,2),u=o[0],d=o[1],m=xc();return Object(r.useEffect)((function(){d(a)}),[a]),c.a.createElement("div",null,c.a.createElement(Ec.a,{open:u,anchorOrigin:{vertical:"top",horizontal:"right"},TransitionComponent:Nc,autoHideDuration:i||5e3,onClose:function(){return d(!1)},onExited:s},c.a.createElement(jc.a,{className:m[n],message:c.a.createElement(wc,{message:t,variant:n,className:m.rootMessage})})))},Cc=function(e){return{root:{height:Ve},column:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},selectRow:{display:"inherit",justifyContent:"space-between",width:"400px",margin:"5px 0"},textRow:{display:"inherit",flexDirection:"inherit",justifyContent:"center",width:"400px"},select:{minWidth:"150px"},margin:{margin:"5px 0",height:70},button:{marginTop:"50px",backgroundColor:e.palette.action.dark}}},kc=Object(Be.a)((function(e){return Cc(e)})),Tc=function(e){var t=e.isLogin,a=e.subjects,n=e.resetRequest,s=e.loadUser,i=e.addUser,l=e.registerAfter,o=e.setRegisterAfter,d=e.request,m=d.pending,p=d.error,f=d.success,g=Object(r.useState)({email:"",password:""}),h=Object(Ke.a)(g,2),b=h[0],E=h[1],j=Object(r.useState)({firstName:"",lastName:"",telephone:"(0048)",email:"",password:"",confirm:""}),v=Object(Ke.a)(j,2),O=v[0],y=v[1],N=Object(r.useState)("parent"),x=Object(Ke.a)(N,2),w=x[0],S=x[1],C=Object(r.useState)(""),k=Object(Ke.a)(C,2),T=k[0],I=k[1],D=Object(r.useState)(!0),A=Object(Ke.a)(D,2),R=A[0],P=A[1],L=Object(r.useState)(!1),_=Object(Ke.a)(L,2),U=_[0],z=_[1],q=Object(r.useState)(!1),B=Object(Ke.a)(q,2),F=B[0],M=B[1],Y=Object(r.useState)({email:!1,confirm:!1,phone:!1}),W=Object(Ke.a)(Y,2),H=W[0],G=W[1],Q=kc();Object(r.useEffect)((function(){if(P("parent"===w),f&&n(),t){var e=b.email,a=b.password;z(e.length>0&&a.length>0),Object.values(l.email).length&&Object.values(l.password).length&&(E({email:l.email,password:l.password}),o({email:{},password:{}}),M(!0)),z(!1),F||z(b.email.length>0&&b.password.length>0)}else{var r=O.firstName,c=O.lastName,s=O.telephone,i=O.email,u=O.password,d=O.confirm;z(r.length>0&&c.length>0&&18===s.length&&i.length>0&&u===d&&u.length>0&&d.length>0&&("teacher"===w?T.length>0:w.length>0)&&!H.confirm&&!H.email)}null!==p&&M(!0)}),[w,b.email,b.password,O.firstName,O.lastName,O,O.telephone,O.email,O.password,O.confirm,T,b,t,H.email,H.confirm,l.email,l.password,p,F,o,f,n]);var V=function(e){t?E(Object(Rr.a)({},b,Object(aa.a)({},e.target.name,e.target.value))):y(Object(Rr.a)({},O,Object(aa.a)({},e.target.name,e.target.value)))};return m?c.a.createElement(rt.a,{elevation:9,className:Object(Ze.a)(Q.column,Q.root)},c.a.createElement(gc,null)):f?t?c.a.createElement(u.a,{to:"/"}):c.a.createElement(u.a,{to:"/login"}):c.a.createElement(rt.a,{elevation:9},c.a.createElement(Ue.a,{container:!0,className:Q.root},c.a.createElement(Ue.a,{item:!0,lg:6,className:Q.column},c.a.createElement("div",{hidden:t,className:Q.selectRow},c.a.createElement(sc,{className:Q.select,selectTitle:"user type",options:["parent","teacher"],takeSelected:function(e){S(e),P("parent"===e)}}),c.a.createElement(sc,{className:Q.select,selectTitle:"subject",isDisabled:R,options:a.all,takeSelected:function(e){I(e)}})),c.a.createElement("div",{hidden:t,className:Q.textRow},c.a.createElement(ic.a,{label:"first name",name:"firstName",value:O.firstName,onChange:V,className:Q.margin}),c.a.createElement(ic.a,{label:"last name",name:"lastName",value:O.lastName,onChange:V,className:Q.margin}),c.a.createElement(ic.a,{label:"phone number",name:"telephone",value:O.telephone,error:H.phone,helperText:H.phone?"Incorrect entry":"",InputProps:{inputComponent:pc},onBlur:function(e){y(Object(Rr.a)({},O,{telephone:e.target.value.trim()})),G(Object(Rr.a)({},H,{phone:18!==e.target.value.trim().length}))},onChange:V,className:Q.margin})),c.a.createElement("div",{className:Q.textRow},c.a.createElement(ic.a,{error:H.email,helperText:H.email?"Incorrect entry":"",label:"email",name:"email",value:t?b.email:O.email,onBlur:function(e){return G(Object(Rr.a)({},H,{email:!e.target.value.includes("@")||!e.target.value.includes(".")}))},onChange:V,className:Q.margin}),c.a.createElement(ic.a,{label:"password",name:"password",value:t?b.password:O.password,type:"password",onChange:V,className:Q.margin})),c.a.createElement("div",{hidden:t,className:Q.textRow},c.a.createElement(ic.a,{error:H.confirm,helperText:H.confirm?"other than password":"",label:"confirm password",name:"confirm",value:O.confirm,onBlur:function(e){return G(Object(Rr.a)({},H,{confirm:e.target.value!==O.password}))},type:"password",onChange:V,className:Q.margin}))),c.a.createElement(Ue.a,{item:!0,lg:6,className:Q.column},c.a.createElement(uc.a,{color:"primary",className:Q.button,"aria-label":"add",onClick:function(){if(t){var e=b.email,a=b.password;s({email:e,password:a})}else{var n=O.firstName,r=O.lastName,c=O.telephone,l=O.email,u=O.password,d={status:w,subject:T,firstName:n,lastName:r,telephone:c,email:l,password:u};o({email:l,password:u}),i(d)}},disabled:!U},c.a.createElement(oc.a,null)))),c.a.createElement(Sc,{message:null!==p?p:"The user has been registered",variant:null!==p?"error":"success",isOpenAlert:F,handleCloseHandling:function(){M(!1),z(!0),null!==p&&n()},duration:null!==p?5e3:2e3}))},Ic=Object(o.b)((function(e){return{request:hr(e),subjects:De(e),registerAfter:Z(e)}}),(function(e){return{loadUser:function(t){return e(function(e){return function(){var t=Object(Vt.a)(Qt.a.mark((function t(a){var n,r;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(rr()),t.prev=1,t.next=4,En.a.get("".concat(jn,"/users/login"),{params:{email:e.email}});case 4:if(null===(n=t.sent).data){t.next=21;break}if(On.a.AES.decrypt(n.data.password,"secret key 220473").toString(On.a.enc.Utf8)!==e.password){t.next=20;break}return(r=n.data).password="","parent"===r.status&&r.students.length&&r.students.map((function(e){return e.className="none",e})),t.next=13,a(cr());case 13:return t.next=15,a(Y(r));case 15:return t.next=17,a(M(!0));case 17:a(Ee("/")),t.next=21;break;case 20:a(sr("Wrong password!"));case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(1),a(sr("User don't exist!!!"));case 26:case"end":return t.stop()}}),t,null,[[1,23]])})));return function(e){return t.apply(this,arguments)}}()}(t))},addUser:function(t){return e(function(e){return function(){var t=Object(Vt.a)(Qt.a.mark((function t(a){return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(rr()),e.password=On.a.AES.encrypt(e.password,"secret key 220473").toString(),t.prev=2,t.next=5,En.a.post("".concat(jn,"/users"),e);case 5:a(cr()),a(Ee("/login")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),a(sr("".concat(t.t0.message.includes("code 500")?"Email address already exists":t.t0.message)));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},resetRequest:function(){return e(ir())},setRegisterAfter:function(t){return e(function(e){return{login:e,type:D}}(t))}}}))(Tc),Dc=function(){return c.a.createElement("div",null,c.a.createElement(ka,null,"Login"),c.a.createElement(Ic,{isLogin:!0}))},Ac=function(){return c.a.createElement("div",null,c.a.createElement(ka,null,"Registration"),c.a.createElement(Ic,{isLogin:!1}))},Rc=function(){return c.a.createElement("div",null,c.a.createElement(ka,null,"PageNotFound - 404"))},Pc=a(30),Lc=a(549),_c=a(570),Uc=a(550),zc=a(548),qc=function(e){return{root:{display:"inline-flex",width:"30px",height:"30px",justifyContent:"center",alignItems:"center"},ratingNumber:{padding:"0 ".concat(e.spacing(1),"px"),cursor:"pointer",transition:".3s"},ratingNumberBig:{padding:"0 ".concat(e.spacing(1),"px"),cursor:"pointer",fontSize:"22px",fontWeight:"700",transition:".5s"},1:{color:e.palette.scales.first},2:{color:e.palette.scales.second},3:{color:e.palette.scales.third},tooltip:{backgroundColor:e.palette.action.adding}}},Bc=Object(Be.a)((function(e){return qc(e)})),Fc=function(e){var t=e.scales,a=e.description,n=e.date,r=e.teacher;return c.a.createElement("div",null,c.a.createElement(Lt.a,{variant:"subtitle2"},"scales: ".concat(t)),c.a.createElement(Lt.a,{variant:"subtitle2"},"description: ".concat(a)),c.a.createElement(Lt.a,{variant:"subtitle2"},"date: ".concat(n.substring(0,10))),c.a.createElement(Lt.a,{variant:"subtitle2"},"teacher: ".concat(r)))},Mc=function(e){var t=e.rating,a=Bc(),n=Object(r.useState)(a.ratingNumber),s=Object(Ke.a)(n,2),i=s[0],l=s[1];return c.a.createElement(Ft.a,{classes:{tooltip:a.tooltip},title:Fc(t),arrow:!0,placement:"top",TransitionComponent:zc.a},c.a.createElement("div",{className:a.root},c.a.createElement(Lt.a,{className:Object(Ze.a)(i,a[t.scales]),display:"inline",variant:"subtitle1",onMouseEnter:function(){return l(a.ratingNumberBig)},onMouseLeave:function(){return l(a.ratingNumber)}},t.value)))},Yc=Object(Be.a)((function(e){return{root:{padding:Fe,backgroundColor:e.palette.action.item,marginBottom:e.spacing(1),"&:hover":{backgroundColor:e.palette.action.check}},ratings:{lineHeight:"40px"}}})),Wc=function(e){var t=e.rating,a=Yc();return c.a.createElement(rt.a,{className:a.root,elevation:5},c.a.createElement(Ue.a,{container:!0,alignItems:"center",justify:"center"},c.a.createElement(Ue.a,{item:!0,lg:2},c.a.createElement(Lt.a,null,t.subject)),c.a.createElement(Ue.a,{item:!0,lg:10,className:a.ratings},t.ratings.map((function(e){return c.a.createElement(Mc,{key:e._id,rating:e})})))))},Hc=function(e){return{root:{width:"100%",padding:Me,backgroundColor:e.palette.secondary.dark},title:{padding:"".concat(Me," 0"),color:e.palette.primary.light},content:{height:"465px",overflow:"auto"}}},Gc=Object(Be.a)((function(e){return Hc(e)})),Qc=function(e){var t=e.student,a=Gc();return c.a.createElement(rt.a,{variant:"outlined",className:a.root},c.a.createElement(Ue.a,{container:!0,style:{paddingLeft:"10px"}},c.a.createElement(Ue.a,{item:!0,lg:2},c.a.createElement(Lt.a,{variant:"subtitle2",className:a.title},"Subject")),c.a.createElement(Ue.a,{item:!0,lg:10},c.a.createElement(Lt.a,{variant:"subtitle2",className:a.title,align:"center"},"Grades"))),c.a.createElement("div",{className:a.content},t.ratings.map((function(e){return c.a.createElement(Wc,{key:e.id,rating:e})}))))},Vc=Object(Be.a)((function(e){return{root:{backgroundColor:e.palette.secondary.dark,width:"100%",marginTop:e.spacing(2)}}})),Xc=function(e){var t=e.item,a=e.value,n=e.index,r=Object(ec.a)(e,["item","value","index"]),s=Vc();return c.a.createElement(rt.a,Object.assign({className:s.root,elevation:9,role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},r),a===n&&c.a.createElement(Qc,{student:t}))},$c=function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",height:Ve,width:"100%",padding:Fe},tabs:{backgroundColor:e.palette.action.tab,fontWeight:800},spinner:{justifyContent:"center"},email:{color:e.palette.action.warning,fontSize:We}}},Kc=Object(Be.a)((function(e){return $c(e)})),Zc=function(e){var t=e.user,a=e.getClassesName,n=e.request,s=Object(r.useState)(0),i=Object(Ke.a)(s,2),l=i[0],o=i[1],u=Object(r.useState)(!1),d=Object(Ke.a)(u,2),m=d[0],p=d[1],g=Kc(),h=Object(Pc.a)();Object(r.useEffect)((function(){if(Object.values(t.students).length&&!m){var e=t.students.map((function(e){return e.id}));a(e),p(!0)}}),[t,m]);return c.a.createElement(rt.a,{variant:"outlined",className:Object(Ze.a)(g.root,n.geting||!t.students.length?g.spinner:"")},n.geting?c.a.createElement(gc,null):c.a.createElement(c.a.Fragment,null,t.students.length?c.a.createElement(c.a.Fragment,null,c.a.createElement(Lc.a,{position:"static",className:g.tabs},c.a.createElement(_c.a,{value:l,onChange:function(e,t){o(t)},textColor:"primary"},t.students.map((function(e,t){return c.a.createElement(Uc.a,Object.assign({className:g.tabs,key:e.id,label:"".concat(e.firstName," ").concat(e.lastName," - ").concat(e.className)},f(t)))})))),t.students.map((function(e,t){return c.a.createElement(Xc,{item:e,index:t,value:l,key:e.id,dir:h.direction})}))):c.a.createElement(c.a.Fragment,null,c.a.createElement(Lt.a,{style:{fontSize:"20px"}},"The parent ".concat(t.lastName," ").concat(t.firstName," has no any student assigned.")),c.a.createElement(Lt.a,null,"Contact the principal:"),c.a.createElement(Bt.a,{className:g.email,href:"mailto:rafal.pijet@gmail.com"},"principal@gmail.com"))))},Jc=Object(o.b)((function(e){return{user:J(e),request:hr(e)}}),(function(e){return{getClassesName:function(t){return e(Jr(t))}}}))(Zc),es=function(){return c.a.createElement("div",null,c.a.createElement(ka,null,"Student Grades"),c.a.createElement(Jc,null))},ts=a(286),as=a.n(ts),ns=a(287),rs=a.n(ns),cs=function(e){return{root:{width:"100%",padding:"".concat(He," 0"),backgroundColor:e.palette.secondary.dark},column:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},textField:{width:"250px",height:"70px",marginBottom:Me},button:{backgroundColor:e.palette.action.dark},justifyEnd:{display:"flex",justifyContent:"flex-end"},tooltip:{backgroundColor:e.palette.secondary.light}}},ss=Object(Be.a)((function(e){return cs(e)})),is=function(e){var t=e.user,a=e.updateUser,n=e.request,s=Object(r.useState)({firstName:t.firstName,lastName:t.lastName,telephone:t.telephone,email:t.email,password:"",newPassword:"",confirm:""}),i=Object(Ke.a)(s,2),l=i[0],o=i[1],u=Object(r.useState)(!1),d=Object(Ke.a)(u,2),m=d[0],p=d[1],f=Object(r.useState)(!1),g=Object(Ke.a)(f,2),h=g[0],b=g[1],E=Object(r.useState)(!1),j=Object(Ke.a)(E,2),v=j[0],O=j[1],y=Object(r.useState)(!1),N=Object(Ke.a)(y,2),x=N[0],w=N[1],S=Object(r.useState)({email:!1,confirm:!1,phone:!1}),C=Object(Ke.a)(S,2),k=C[0],T=C[1],I=ss();Object(r.useEffect)((function(){O(!k.email&&!k.confirm&&!k.phone&&(l.firstName!==t.firstName||l.lastName!==t.lastName||l.telephone!==t.telephone||l.email!==t.email)),p(l.newPassword.length>0&&h),h?w(!k.confirm&&l.password.length>0&&l.newPassword.length>0):(o(Object(Rr.a)({},l,{newPassword:"",password:"",confirm:""})),w(!1)),n.updating&&(O(!1),b(!1),O(!1))}),[l.lastName,l.firstName,l.telephone,l.email,n.updating,l.newPassword,h,k.confirm,l.password,k.phone,k.email]);var D=function(e){o(Object(Rr.a)({},l,Object(aa.a)({},e.target.name,e.target.value)))};return c.a.createElement(rt.a,{elevation:3,className:I.root},c.a.createElement(Ue.a,{container:!0,style:{height:"100%"},alignContent:"center",justify:"center"},n.updating?c.a.createElement(gc,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(Ue.a,{item:!0,lg:4,className:I.column},c.a.createElement(ic.a,{label:"first name",name:"firstName",value:l.firstName,onChange:D,className:I.textField}),c.a.createElement(ic.a,{label:"last name",name:"lastName",value:l.lastName,onChange:D,className:I.textField}),c.a.createElement(ic.a,{label:"phone number",name:"telephone",value:l.telephone,onChange:D,className:I.textField,InputProps:{inputComponent:pc},error:k.phone,helperText:k.phone?"Incorrect entry":"",onBlur:function(e){return T(Object(Rr.a)({},k,{phone:18!==e.target.value.trim().length}))}}),c.a.createElement(ic.a,{label:"email",name:"email",value:l.email,onChange:D,className:I.textField,error:k.email,helperText:k.email?"Incorrect entry":"",onBlur:function(e){return T(Object(Rr.a)({},k,{email:!e.target.value.includes("@")||!e.target.value.includes(".")}))}})),c.a.createElement(Ue.a,{item:!0,lg:4,className:I.column},c.a.createElement(Ft.a,{title:"Update data",placement:"top",arrow:!0,classes:{tooltip:I.tooltip},TransitionComponent:Pt.a,enterDelay:1e3},c.a.createElement("span",null,c.a.createElement(uc.a,{color:"primary",className:I.button,"aria-label":"update",disabled:h?!x:!v,onClick:function(){var e={id:t.id,firstName:l.firstName,lastName:l.lastName,telephone:l.telephone,email:l.email,password:l.password,newPassword:l.newPassword};a(x,v,e)}},c.a.createElement(oc.a,null))))),c.a.createElement(Ue.a,{item:!0,lg:4,className:I.column},c.a.createElement("div",{className:Object(Ze.a)(I.textField,I.justifyEnd)},h?c.a.createElement(as.a,null):c.a.createElement(rs.a,{color:"disabled"}),c.a.createElement(Rt.a,{checked:h,onChange:function(e){b(e.target.checked)},color:"secondary",size:"small"})),c.a.createElement(ic.a,{label:"new password",name:"newPassword",value:l.newPassword,onChange:D,onBlur:function(e){return T(Object(Rr.a)({},k,{confirm:e.target.value!==l.confirm}))},type:"password",disabled:!h,className:I.textField}),c.a.createElement(ic.a,{label:"confirm new password",name:"confirm",value:l.confirm,onChange:D,className:I.textField,error:k.confirm,helperText:k.confirm?"other than new password":"",type:"password",disabled:!m,onBlur:function(e){return T(Object(Rr.a)({},k,{confirm:e.target.value!==l.newPassword}))}}),c.a.createElement(ic.a,{label:"old password",name:"password",value:l.password,onChange:D,className:I.textField,type:"password",disabled:!m})))))},ls=Object(o.b)((function(e){return{request:hr(e),user:J(e)}}),(function(e){return{updateUser:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(Vt.a)(Qt.a.mark((function n(r){var c;return Qt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r(mr()),!e){n.next=8;break}return n.next=4,On.a.AES.encrypt(a.password,"secret key 220473").toString();case 4:return a.password=n.sent,n.next=7,On.a.AES.encrypt(a.newPassword,"secret key 220473").toString();case 7:a.newPassword=n.sent;case 8:return n.prev=8,n.next=11,En.a.put("".concat(jn,"/users"),{isPassword:e,isDataChange:t,userAfterChange:a});case 11:c=n.sent,t&&(r({data:a,type:R}),e&&null!==c.data.resultPassword&&r(ve(!0,"".concat(c.data.resultData,". ").concat(c.data.resultPassword))),e&&null===c.data.resultPassword&&(r(ve(!0,c.data.resultData)),setTimeout((function(){return r(sr("Incorrect old password !!! Password has not been changed."))}),6e3)),e||r(ve(!0,c.data.resultData))),e&&!t&&(null!==c.data.resultPassword?r(ve(!0,c.data.resultPassword)):r(sr("Incorrect old password !!! Password has not been changed."))),r(pr()),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(8),r(sr(n.t0.message));case 20:case"end":return n.stop()}}),n,null,[[8,17]])})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))}}}))(is),os=function(e){return{root:{display:"flex",flexDirection:"column",height:Ve,width:"100%",padding:Fe},students:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",height:"160px",padding:He,backgroundColor:e.palette.secondary.light,marginBottom:e.spacing(2),overflow:"auto"},edit:{display:"flex",width:"100%",height:"350px",justifyContent:"center"},item:{width:"100%",backgroundColor:e.palette.secondary.dark,padding:Fe,margin:"".concat(Me," 0")},center:{justifyContent:"center"}}},us=Object(Be.a)((function(e){return os(e)})),ds=function(e){var t=e.request,a=e.user,n=e.getClassesName,s=e.alertSuccess,i=e.resetRequest,l=e.setAlertSuccess,o=Object(r.useState)(!1),u=Object(Ke.a)(o,2),d=u[0],m=u[1],p=us();Object(r.useEffect)((function(){if(Object.values(a.students).length&&!d){var e=a.students.map((function(e){return e.id}));n(e),m(!0)}}),[a,d]);return c.a.createElement(rt.a,{variant:"outlined",className:p.root},c.a.createElement(Lt.a,{variant:"subtitle2"},"Student".concat(a.students.length>1?"s":"",":")),c.a.createElement(rt.a,{variant:"outlined",className:Object(Ze.a)(p.students,t.geting||a.students.length<3?p.center:"")},t.geting?c.a.createElement(gc,null):a.students.length?a.students.map((function(e){return c.a.createElement(rt.a,{key:e.id,elevation:9,className:p.item},c.a.createElement(Ue.a,{container:!0,alignItems:"center",justify:"center"},c.a.createElement(Ue.a,{item:!0,lg:6},c.a.createElement(Lt.a,{display:"inline",style:{fontWeight:700}},"".concat(e.lastName," ").concat(e.firstName))),c.a.createElement(Ue.a,{item:!0,lg:3},c.a.createElement(Lt.a,{display:"inline"},e.birthDate.substring(0,10))),c.a.createElement(Ue.a,{item:!0,lg:3},c.a.createElement(Lt.a,{display:"inline"},e.className))))})):c.a.createElement(Lt.a,null,"none")),c.a.createElement(Lt.a,{variant:"subtitle2"},"Edit data:"),c.a.createElement("div",{className:p.edit},c.a.createElement(ls,null)),c.a.createElement(Sc,{isOpenAlert:null!==t.error||s.isOpen,message:s.isOpen?s.message:t.error,variant:s.isOpen?"success":"error",handleCloseHandling:function(){null!==t.error&&i(),s.isOpen&&l(!1,"")}}))},ms=Object(o.b)((function(e){return{request:hr(e),user:J(e),alertSuccess:Re(e)}}),(function(e){return{getClassesName:function(t){return e(Jr(t))},resetRequest:function(){return e(ir())},setAlertSuccess:function(t,a){return e(ve(t,a))}}}))(ds),ps=function(){return c.a.createElement("div",null,c.a.createElement(ka,null,"Parent Data"),c.a.createElement(ms,null))},fs=a(556),gs=a(557),hs=a(558),bs=a(559),Es=a(574),js=a(569),vs=a(555),Os=a(580),ys=a(554),Ns=a(552),xs=a(553),ws=a(551),Ss=c.a.forwardRef((function(e,t){return c.a.createElement(vc.a,Object.assign({direction:"up",ref:t},e))})),Cs=Object(Be.a)((function(e){return{buttonRemove:{color:e.palette.action.light}}})),ks=function(e){var t=e.isOpen,a=e.isConfirm,n=e.description,r=Object(ec.a)(e,["isOpen","isConfirm","description"]),s=Cs();return c.a.createElement("div",null,c.a.createElement(Os.a,Object.assign({open:t,TransitionComponent:Ss,onClose:function(){return a(!1)},keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r),c.a.createElement(ws.a,{id:"alert-dialog-slide-title"},"Are you sure?"),c.a.createElement(Ns.a,null,c.a.createElement(xs.a,{id:"alert-dialog-slide-description"},n)),c.a.createElement(ys.a,null,c.a.createElement(vs.a,{className:s.buttonRemove,onClick:function(){return a(!0)}},"Delete"),c.a.createElement(vs.a,{color:"primary",onClick:function(){return a(!1)}},"Cancel"))))},Ts=a(59),Is=a.n(Ts),Ds=function(e){return{root:{display:"flex",alignItems:"center",width:"100%",height:"58px",paddingLeft:Me,backgroundColor:e.palette.secondary.dark,marginBottom:Fe,"&:hover":{backgroundColor:e.palette.action.item}},names:{display:"flex",alignItems:"center"},subject:{paddingLeft:Me,fontSize:Fe,color:e.palette.primary.light},tutor:{width:"100%",fontSize:Fe,color:e.palette.primary.light},classes:{display:"flex",backgroundColor:"inherit",alignItems:"center",flexDirection:"column",height:"50px",width:"130px",padding:"".concat(Me," ").concat(Fe),overflow:"auto","&:hover":{backgroundColor:e.palette.action.header}},sum:{width:"100%",fontSize:Fe},operation:{display:"flex",alignItems:"center",justifyContent:"center"},delete:{color:e.palette.action.light}}},As=Object(Be.a)((function(e){return Ds(e)})),Rs=function(e){var t=e.teacher,a=e.request,n=e.setModalYesNot,r=As(),s=0;return c.a.createElement(rt.a,{variant:"outlined",className:r.root},c.a.createElement(Ue.a,{container:!0},c.a.createElement(Ue.a,{item:!0,lg:4,className:r.names},c.a.createElement(Lt.a,{style:{fontWeight:700},display:"inline"},"".concat(t.lastName," ").concat(t.firstName," ")),c.a.createElement(Lt.a,{display:"inline",className:r.subject},t.subject)),c.a.createElement(Ue.a,{item:!0,lg:2,className:r.names},c.a.createElement(Lt.a,{className:r.sum,align:"center"},t.telephone)),c.a.createElement(Ue.a,{item:!0,lg:2,className:r.names},c.a.createElement(Bt.a,{href:"mailto:".concat(t.email),align:"center"},t.email)),c.a.createElement(Ue.a,{item:!0,lg:1,className:r.names},c.a.createElement(Lt.a,{className:r.tutor,align:"center"},t.tutorClass)),c.a.createElement(Ue.a,{item:!0,lg:2,style:{display:"flex",justifyContent:"flex-end"}},c.a.createElement("div",{className:r.classes},t.teacherClasses.length?t.teacherClasses.map((function(e,t){return s+=e.studentsAmount,c.a.createElement(Lt.a,{align:"right",key:t,display:"block",className:r.tutor},"".concat(e.className," - ").concat(e.studentsAmount))})):c.a.createElement(Lt.a,{align:"center",className:r.tutor},"none"),c.a.createElement(Lt.a,{hidden:!t.teacherClasses.length,align:"right",className:r.sum},"ALL: ".concat(s)))),c.a.createElement(Ue.a,{item:!0,lg:1,className:r.operation},c.a.createElement(Ft.a,{title:"Remove teacher",placement:"top",arrow:!0,TransitionComponent:Pt.a,enterDelay:1e3},c.a.createElement("span",null,c.a.createElement(Ta.a,{disabled:a.adding||t.teacherClasses.length>0||"no assigned"!==t.tutorClass,className:r.delete,onClick:function(){n(!0,{description:"Do you want remove ".concat(t.lastName," ").concat(t.firstName," teacher?"),data:{id:t.id}})}},c.a.createElement(Is.a,{fontSize:"small"})))))))},Ps=Object(o.b)((function(e){return{request:hr(e)}}),(function(e){return{setModalYesNot:function(t,a){return e(je(t,a))}}}))(Rs),Ls=function(e){return{root:{backgroundColor:e.palette.secondary.light},info:{padding:"".concat(Me," ").concat(Fe," 0 22px")},content:{justifyContent:"flex-start",padding:"10px ".concat(Fe," 0"),height:"515px",overflow:"auto"},footer:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"52px",marginBottom:Me},column:{flexDirection:"column"},center:{justifyContent:"center !important"},description:{fontSize:12,color:e.palette.primary.light}}},_s=a(182),Us=a.n(_s),zs=a(181),qs=a.n(zs),Bs=a(184),Fs=a.n(Bs),Ms=a(183),Ys=a.n(Ms),Ws=Object(Be.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}})),Hs=function(e){var t=Ws(),a=Object(Pc.a)(),n=e.count,r=e.page,s=e.rowsPerPage,i=e.onChangePage;return c.a.createElement("div",{className:t.root},c.a.createElement(Ta.a,{onClick:function(e){i(e,0)},disabled:0===r,"aria-label":"first page"},"rtl"===a.direction?c.a.createElement(qs.a,null):c.a.createElement(Us.a,null)),c.a.createElement(Ta.a,{onClick:function(e){i(e,r-1)},disabled:0===r,"aria-label":"previous page"},"rtl"===a.direction?c.a.createElement(Ys.a,null):c.a.createElement(Fs.a,null)),c.a.createElement(Ta.a,{onClick:function(e){i(e,r+1)},disabled:r>=Math.ceil(n/s)-1,"aria-label":"next page"},"rtl"===a.direction?c.a.createElement(Fs.a,null):c.a.createElement(Ys.a,null)),c.a.createElement(Ta.a,{onClick:function(e){i(e,Math.max(0,Math.ceil(n/s)-1))},disabled:r>=Math.ceil(n/s)-1,"aria-label":"last page"},"rtl"===a.direction?c.a.createElement(Us.a,null):c.a.createElement(qs.a,null)))},Gs=Object(Be.a)((function(e){return Ls(e)})),Qs=function(e){var t=e.teachers,a=e.teachersName,n=e.request,s=e.loadTeachersName,i=e.loadTeachers,l=e.loadTeacher,o=e.resetRequest,u=e.modalYesNot,d=e.setModalYesNot,m=e.alertSuccess,p=e.setAlertSuccess,f=e.deleteTeacher,g=e.clearTeachers,h=e.clearTeachersName,b=Object(r.useState)(null),E=Object(Ke.a)(b,2),j=E[0],v=E[1],O=Object(r.useState)(0),y=Object(Ke.a)(O,2),N=y[0],x=y[1],w=Object(r.useState)(!1),S=Object(Ke.a)(w,2),C=S[0],k=S[1],T=c.a.useState(7),I=Object(Ke.a)(T,2),D=I[0],A=I[1],R=Object(r.useState)(!1),P=Object(Ke.a)(R,2),L=P[0],_=P[1],U=Gs();Object(r.useEffect)((function(){a.length||s("teacher"),C||(i(N+1,D),k(!0)),null===j&&L&&(i(N+1,D),_(!1))}),[a,N,D,j]),Object(r.useEffect)((function(){return function(){h([]),g([])}}),[]);var z=function(){var e=Object(Vt.a)(Qt.a.mark((function e(){return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:return e.next=4,x(0);case 4:return e.next=6,s("teacher");case 6:i(N+1,D);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(Vt.a)(Qt.a.mark((function e(t){var a;return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.content.data.id;case 2:a=e.sent,d(!1,{description:"",data:{}}),t&&f(a,N,D);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(rt.a,{variant:"outlined",className:U.root},c.a.createElement(Ue.a,{container:!0,className:U.info},c.a.createElement(Ue.a,{item:!0,lg:4},c.a.createElement(Lt.a,{className:U.description,color:"primary"},"Names/Subject")),c.a.createElement(Ue.a,{item:!0,lg:2,style:{paddingLeft:"20px"}},c.a.createElement(Lt.a,{className:U.description,color:"primary"},"Phone")),c.a.createElement(Ue.a,{item:!0,lg:2},c.a.createElement(Lt.a,{className:U.description,color:"primary"},"Email")),c.a.createElement(Ue.a,{item:!0,lg:1},c.a.createElement(Lt.a,{className:U.description,color:"primary"},"Class teacher")),c.a.createElement(Ue.a,{item:!0,lg:2},c.a.createElement(Lt.a,{align:"right",className:U.description,color:"primary"},"Class/Students")),c.a.createElement(Ue.a,{item:!0,lg:1}," ")),c.a.createElement(Ue.a,{container:!0,className:Object(Ze.a)(U.content,n.working||n.pending?U.center:"",t.length<7?U.column:"")},n.working||n.pending?c.a.createElement(gc,null):C&&t.length&&t.map((function(e){return c.a.createElement(Ps,{key:e.id,teacher:e})}))),c.a.createElement(fs.a,{className:U.footer,component:rt.a},c.a.createElement(js.a,{hidden:!a.length,id:"search-teacher",renderInput:function(e){return c.a.createElement(ic.a,Object.assign({},e,{label:"Search teacher"}))},options:a,getOptionLabel:function(e){return e.name},size:"small",style:{width:300,paddingLeft:"15px"},onChange:function(e,t){return function(e){v(e),null!==e&&(l(e.id),_(!0),x(0))}(t)}}),c.a.createElement(gs.a,null,c.a.createElement(hs.a,null,c.a.createElement(bs.a,null,c.a.createElement(Es.a,{hidden:!a.length||L,rowsPerPageOptions:[7,15,25],colSpan:3,count:a.length,rowsPerPage:D,page:N,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){x(t),k(!1)},onChangeRowsPerPage:function(e){A(parseInt(e.target.value,10)),x(0),k(!1)},ActionsComponent:Hs}))))),c.a.createElement(Sc,{isOpenAlert:null!==n.error||m.isOpen,variant:m.isOpen?"success":"error",message:m.isOpen?m.message:n.error,handleCloseHandling:m.isOpen?function(){p(!1,"")}:z}),c.a.createElement(ks,{description:u.content.description,isOpen:u.isOpen,isConfirm:q}))},Vs=Object(o.b)((function(e){return{teachers:te(e),teachersName:ne(e),request:hr(e),modalYesNot:ke(e),alertSuccess:Re(e)}}),(function(e){return{loadTeachersName:function(t){return e($r(t))},loadTeachers:function(t,a){return e(Vr(t,a))},loadTeacher:function(t){return e(function(e){return function(){var t=Object(Vt.a)(Qt.a.mark((function t(a){var n,r,c;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(rr()),t.prev=1,t.next=4,En.a.get("".concat(jn,"/users/teacher/").concat(e));case 4:return n=t.sent,r=n.data,t.next=8,En.a.get("".concat(jn,"/classes/teachers/name"),{params:{teachersId:[r.id]}});case 8:(c=t.sent).data.tutors.length?r.tutorClass=c.data.tutors[0].tutorClass:r.tutorClass="no assigned",c.data.teachersInClass.length?r.teacherClasses=c.data.teachersInClass.map((function(e){return{className:e.className,studentsAmount:e.studentsAmount}})):r.teacherClasses=[],a(W([r])),a(cr()),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),a(sr(t.t0.message));case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()}(t))},resetRequest:function(){return e(ir())},setModalYesNot:function(t,a){return e(je(t,a))},setAlertSuccess:function(t,a){return e(ve(t,a))},deleteTeacher:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(Vt.a)(Qt.a.mark((function n(r){var c;return Qt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(lr()),n.prev=1,n.next=4,En.a.delete("".concat(jn,"/users/").concat(e));case 4:return c=n.sent,r(X(e)),n.next=8,r(Vr(t+1,a));case 8:r(ve(!0,"Teacher ".concat(c.data.name," has been removed."))),r(or()),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),r(sr(n.t0.message));case 15:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))},clearTeachers:function(t){return e(W(t))},clearTeachersName:function(t){return e(V(t))}}}))(Qs),Xs=function(){return c.a.createElement("div",null,c.a.createElement(ka,null,"Teachers"),c.a.createElement(Vs,null))},$s=function(e){return{content:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-around",height:Ve},parent:{backgroundImage:e.palette.background.parent},teacher:{backgroundImage:e.palette.background.teacher},principal:{backgroundImage:e.palette.background.principal}}},Ks=a(5),Zs=a.n(Ks),Js=a(82),ei=function(e){var t;return{root:{padding:Me,backgroundColor:e.palette.primary.light},image:(t={position:"relative"},Object(aa.a)(t,e.breakpoints.down("xs"),{width:"100% !important",height:100}),Object(aa.a)(t,"&:hover, &$focusVisible",{zIndex:1,"& $imageBackdrop":{opacity:.15},"& $imageTitle":{fontSize:24,fontWeight:700}}),t),focusVisible:{},imageButton:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},imageSrc:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center"},imageBackdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.4,transition:e.transitions.create("opacity")},imageTitle:{position:"relative",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(4),"px ").concat(e.spacing(1)+6,"px"),transition:".5s",color:e.palette.action.title}}},ti=Object(Be.a)((function(e){return ei(e)})),ai=function(e){var t=e.title,a=e.path,n=e.top,s=e.bottom,i=e.right,l=e.left,o=e.image,d=e.width,m=e.height,p=e.setPath,f=Object(r.useState)(n||0),g=Object(Ke.a)(f,1)[0],h=Object(r.useState)(s||0),b=Object(Ke.a)(h,1)[0],E=Object(r.useState)(l||0),j=Object(Ke.a)(E,1)[0],v=Object(r.useState)(i||0),O=Object(Ke.a)(v,1)[0],y=Object(r.useState)("/"),N=Object(Ke.a)(y,2),x=N[0],w=N[1],S=ti();return c.a.createElement(rt.a,{elevation:9,className:S.root},c.a.createElement(Js.a,{name:t,focusRipple:!0,onClick:function(){setTimeout((function(){w(a),p(a)}),300)},className:S.image,focusVisibleClassName:S.focusVisible,style:{width:d,height:m}},c.a.createElement("span",{className:S.imageSrc,style:{backgroundImage:"url(".concat(o,")")}}),c.a.createElement("span",{className:S.imageBackdrop}),c.a.createElement("span",{className:S.imageButton,style:{bottom:b,top:g,right:O,left:j}},c.a.createElement(Lt.a,{component:"span",variant:"subtitle1",color:"inherit",className:S.imageTitle},t))),c.a.createElement(u.a,{to:x}))};ai.propStyles={title:Zs.a.string.isRequired,image:Zs.a.any.isRequired,path:Zs.a.string.isRequired,top:Zs.a.number,bottom:Zs.a.number,left:Zs.a.number,right:Zs.a.number,width:Zs.a.number,height:Zs.a.number,setPath:Zs.a.func.isRequired};var ni=ai,ri=Object(o.b)(null,(function(e){return{setPath:function(t){return e(Ee(t))}}}))(ni),ci=Object(Be.a)((function(e){return $s(e)})),si=function(e){var t=e.buttons,a=e.userType,n=ci();return c.a.createElement(rt.a,{elevation:9,className:function(e){switch(e){case"parent":return n.parent;case"teacher":return n.teacher;case"principal":return n.principal;default:return""}}(a)},c.a.createElement("div",{className:n.content},t.map((function(e,t){return c.a.createElement(ri,{key:t,image:e.image,title:e.title,top:e.top,bottom:e.bottom,left:e.left,right:e.right,width:e.width,height:e.height,path:e.path})}))))},ii=a(288),li=a.n(ii),oi=a(289),ui=a.n(oi),di=a(290),mi=a.n(di),pi=[{image:li.a,title:"Grades",bottom:200,width:400,height:280,path:"/grades"},{image:ui.a,title:"Parent's Data",left:130,top:20,width:350,height:230,path:"/data"},{image:mi.a,title:"Teachers",right:180,bottom:30,width:320,height:200,path:"/teachers"}],fi=function(){return c.a.createElement("div",null,c.a.createElement(ka,null,"Parent's Zone"),c.a.createElement(si,{buttons:pi,userType:"parent"}))},gi=a(291),hi=a.n(gi),bi=a(292),Ei=a.n(bi),ji=[{image:hi.a,title:"Class Diaries",top:150,width:400,height:360,left:30,path:"/diaries"},{image:Ei.a,title:"Teacher's Data",width:350,height:300,bottom:175,left:113,path:"/data"}],vi=function(){return c.a.createElement("div",null,c.a.createElement(ka,null,"Teacher's Zone"),c.a.createElement(si,{userType:"teacher",buttons:ji}))},Oi=a(140),yi=a.n(Oi),Ni=function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:Ve,width:"100%"},padding:{padding:"0 ".concat(Fe)},image:{backgroundImage:"url(".concat(yi.a,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat"},subjectInfo:{width:"100%",padding:"".concat(Me," 0"),display:"inline-flex",justifyContent:"flex-end"},tabs:{backgroundColor:e.palette.action.tab,fontWeight:800}}},xi=function(e){return{root:{width:"100%",backgroundColor:e.palette.action.header,height:"480px",display:"flex",justifyContent:"center",alignItems:"center",marginTop:Fe},container:{padding:"0 ".concat(Me),height:"480px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",height:"35px",backgroundColor:e.palette.action.header},classInfo:{padding:0,height:"35px",backgroundColor:e.palette.action.header},description:{fontWeight:200,fontSize:Fe,color:e.palette.primary.light},tutorContent:{fontWeight:600,fontSize:Ye,color:e.palette.primary.light}}},wi=a(563),Si=a(560),Ci=a(562),ki=a(150),Ti=a(561),Ii=function(e){return{root:{display:"inline-flex",width:"30px",height:"30px",justifyContent:"center",alignItems:"center"},ratingNumber:{padding:"0 ".concat(e.spacing(1),"px"),cursor:"pointer",transition:".3s"},ratingNumberBig:{cursor:"pointer",fontSize:"22px",fontWeight:"700",transition:".3s"},1:{color:e.palette.scales.first},2:{color:e.palette.scales.second},3:{color:e.palette.scales.third},disabled:{color:e.palette.secondary.light,transition:".5s"}}},Di=Object(Be.a)((function(e){return Ii(e)})),Ai=function(e){var t=e.rating,a=e.previewHandling,n=e.updateHandling,s=e.isUpdateRating,i=e.setIsUpdateRating,l=e.isNewRating,o=e.updatedRating,u=e.request,d=Object(ec.a)(e,["rating","previewHandling","updateHandling","isUpdateRating","setIsUpdateRating","isNewRating","updatedRating","request"]),m=Di(),p=Object(r.useState)(t),f=Object(Ke.a)(p,2),g=f[0],h=f[1],b=Object(r.useState)(t),E=Object(Ke.a)(b,2),j=E[0],v=E[1],O=Object(r.useState)(m.ratingNumber),y=Object(Ke.a)(O,2),N=y[0],x=y[1],w=Object(r.useState)(!1),S=Object(Ke.a)(w,2),C=S[0],k=S[1];Object(r.useEffect)((function(){o._id===g._id&&C?(h(o),x(Object(Ze.a)(m.ratingNumberBig,m[g.scales]))):x(Object(Ze.a)(C?m.ratingNumberBig:m.ratingNumber,m[g.scales])),!s&&C&&(!u.working&&k(!1),x(Object(Ze.a)(m.ratingNumber,m[g.scales])),v(g))}),[s,o,o._id,g,u.working]);return c.a.createElement("div",{className:m.root},u.working&&C?c.a.createElement(Ti.a,{size:"25px",color:"secondary"}):c.a.createElement(Lt.a,Object.assign({className:s&&!C?m.disabled:N,display:"inline",variant:"subtitle1"},d,{onMouseEnter:s||C?null:function(){x(Object(Ze.a)(N,m.ratingNumberBig)),a(!0,{description:g.description,date:g.date.substring(0,10),scales:g.scales})},onMouseLeave:s||C?null:function(){x(Object(Ze.a)(m[g.scales],m.ratingNumber)),a(!1,{description:"",date:"",scales:0})},onClick:s||C?function(){l||(i(!1),k(!1),n(j),j.value===g.value&&j.scrollable===g.scales&&j.description===g.description||h(j))}:function(){l||(n(g),i(!0),k(!0))}}),g.value))},Ri=Object(o.b)((function(e){return{isUpdateRating:Ne(e),isNewRating:xe(e),request:hr(e)}}),(function(e){return{setIsUpdateRating:function(t){return e(ge(t))}}}))(Ai),Pi=a(141),Li=a.n(Pi),_i=function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"80px",width:"200px",padding:Me},ratingRow:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},valueBox:{display:"inline-flex",width:"30px",height:"30px",justifyContent:"center",alignItems:"center",marginRight:Me,paddingBottom:Me},buttonBox:{padding:Me},deleteBox:{width:"30px",height:"30px",paddingBottom:Me},deleteIcon:{color:e.palette.action.light},scales1:{fontSize:We,fontWeight:700,paddingLeft:e.spacing(1),color:e.palette.scales.first},scales2:{fontSize:We,fontWeight:700,paddingLeft:e.spacing(1),color:e.palette.scales.second},scales3:{fontSize:We,fontWeight:700,paddingLeft:e.spacing(1),color:e.palette.scales.third},0:{color:e.palette.scales.first,textAlign:"center"},1:{color:e.palette.scales.second,textAlign:"center"},2:{color:e.palette.scales.third,textAlign:"center"}}},Ui=a(581),zi=Object(Be.a)((function(e){return _i(e)})),qi={.5:"1",1:"1+",1.5:"2-",2:"2",2.5:"2+",3:"3-",3.5:"3",4:"3+",4.5:"4-",5:"4",5.5:"4+",6:"5-",6.5:"5",7:"5+",7.5:"6-",8:"6"},Bi=function(e){var t=e.ratingScales,a=e.ratingDescriptions,n=e.ratingsId,s=e.teacher,i=e.addRating,l=e.classId,o=e.addingHandling,u=e.isEditMode,d=e.changeRating,m=e.ratingToChange,p=e.isUpdate,f=e.updateRating,g=e.setModalYesNot,h=Object(r.useState)(3.5),b=Object(Ke.a)(h,2),E=b[0],j=b[1],v=Object(r.useState)(-1),O=Object(Ke.a)(v,2),y=O[0],N=O[1],x=Object(r.useState)(t[0]),w=Object(Ke.a)(x,2),S=w[0],C=w[1],k=Object(r.useState)(a[0]),T=Object(Ke.a)(k,2),I=T[0],D=T[1],A=Object(r.useState)(!1),R=Object(Ke.a)(A,2),P=R[0],L=R[1],_=Object(r.useState)(!1),U=Object(Ke.a)(_,2),z=U[0],q=U[1],B=zi();Object(r.useEffect)((function(){u&&p&&!P&&(D(m.description),C(m.scales),Object.entries(qi).forEach((function(e){e[1]===m.value&&(j(parseFloat(e[0])),L(!0))}))),u&&p&&z&&(d({_id:m._id,value:qi[E],scales:S,description:I,date:m.date,teacher:m.teacher}),q(!1))}),[E,d,m,u,p,P,S,I,z]),Object(r.useEffect)((function(){L(!1)}),[p]);var F=function(e){switch(S){case 1:return e?B.scales1:B[0];case 2:return e?B.scales2:B[1];case 3:return e?B.scales3:B[2]}};return c.a.createElement("div",{className:B.root},c.a.createElement("div",{className:B.ratingRow},c.a.createElement(Ui.a,{name:u?"rating-edit-".concat(n):"rating-add-".concat(n),size:"small",max:8,value:E,precision:.5,onChange:function(e,t){j(t),u&&q(!0)},onChangeActive:function(e,t){u?-1!==t?(N(t),d({_id:m._id,value:qi[t],scales:S,description:I,date:m.date,teacher:m.teacher})):d({_id:m._id,value:qi[E],scales:S,description:I,date:m.date,teacher:m.teacher}):N(t)}}),u?c.a.createElement("div",{className:B.deleteBox},c.a.createElement("span",null,c.a.createElement(Ft.a,{title:"delete grade",arrow:!0,id:"delete",placement:"top",TransitionComponent:Pt.a,TransitionProps:{timeout:1e3}},c.a.createElement("span",null,c.a.createElement(Ta.a,{className:B.buttonBox,"aria-label":"delete",onClick:function(){g(!0,{description:"Do you want to delete the grade: ".concat(qi[E]," ?"),data:{id:n,_id:m._id,classId:l,studentId:m.studentId}})}},c.a.createElement(Is.a,{className:B.deleteIcon,fontSize:"small"})))))):c.a.createElement("div",{className:B.valueBox},c.a.createElement(Lt.a,{className:F(!0)},qi[-1!==y?y:E]))),c.a.createElement("div",{className:B.ratingRow},c.a.createElement(tc.a,null,c.a.createElement(nc.a,{value:S,className:F(!1),onChange:function(e){C(e.target.value),u&&q(!0)},style:{fontSize:"14px"}},t.map((function(e){return c.a.createElement(rc.a,{className:B[e-1],style:{fontSize:"14px"},key:e,value:e},e)})))),c.a.createElement(tc.a,null,c.a.createElement(nc.a,{value:I,onChange:function(e){D(e.target.value),u&&q(!0)},style:{fontSize:"14px"}},a.map((function(e){return c.a.createElement(rc.a,{style:{fontSize:"14px"},key:e,value:e},e)})))),c.a.createElement("div",null,c.a.createElement("span",null,c.a.createElement(Ft.a,{title:u?"confirm update":"confirm adding",arrow:!0,id:"confirm",placement:"bottom",TransitionComponent:Pt.a,TransitionProps:{timeout:1e3}},c.a.createElement("span",null,c.a.createElement(Ta.a,{className:B.buttonBox,"aria-label":"done",onClick:u?function(){var e={rating:{_id:m._id,value:qi[E],scales:S,description:I,date:m.date,teacher:m.teacher},ratingsId:n,studentId:m.studentId,classId:m.classId};f(e)}:function(){var e={ratingsId:n,rating:{value:qi[E],description:I,scales:S,date:new Date,teacher:"".concat(s.firstName," ").concat(s.lastName)}};i(l,e),o(n)}},c.a.createElement(oc.a,{fontSize:"small"}))))))))},Fi=Object(o.b)((function(e){return{ratingDescriptions:Te(e),ratingScales:Ie(e)}}),(function(e){return{addRating:function(t,a){return e(function(e,t){return function(){var a=Object(Vt.a)(Qt.a.mark((function a(n){var r;return Qt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(lr()),a.prev=1,a.next=4,En.a.post("".concat(jn,"/ratings/").concat(t.ratingsId),t.rating);case 4:r=a.sent,n(Un(e,r.data)),n(or()),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),n(sr(a.t0.message));case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))},updateRating:function(t){return e(function(e){return function(){var t=Object(Vt.a)(Qt.a.mark((function t(a){var n;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(ur()),t.prev=1,t.next=4,En.a.put("".concat(jn,"/ratings/").concat(e.ratingsId),e.rating);case 4:n=t.sent,a(zn(e.classId,e.studentId,n.data)),a(dr()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a(sr(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},setModalYesNot:function(t,a){return e(je(t,a))}}}))(Bi),Mi=function(e){return{buttonBox:{display:"inline-flex",width:"50px",height:"50px",alignItems:"center",position:"relative"},spinnerBox:{display:"inline-flex",width:"30px",height:"30px",alignItems:"center"},adding:{position:"absolute",left:"-200px",top:"-16px",zIndex:"20",backgroundColor:"rgba(84, 110, 122, .5)"},buttonAdd:{color:e.palette.action.dark,transition:"1s"},buttonCancel:{color:e.palette.action.warning,transform:"rotate(45deg)",transition:"1s"},padding:{padding:Me},firstCell:{width:Fe},secondCell:{width:"200px",overflowX:"auto"},thirdCell:{width:"710px"},names:{whiteSpace:"nowrap",width:"200px"},ratings:{width:"656px",display:"flex",alignItems:"center",flexWrap:"nowrap",overflowX:"auto",height:"40px"},previewRoot:{position:"relative"},preview:{display:"flex",flexDirection:"column",position:"absolute",justifyContent:"space-between",alignItems:"center",padding:Me,left:"-230px",top:"-40px",height:"80px",width:"200px",backgroundColor:"rgba(84, 110, 122, .5)"},1:{color:e.palette.scales.first},2:{color:e.palette.scales.second},3:{color:e.palette.scales.third},flipped:{position:"absolute",willChange:"transform, opacity"},showUpdate:{opacity:1,transition:"opacity .3s ease-in-out"},hiddenUpdate:{opacity:0,transition:"opacity .3s ease-in-out"},previewContent:{position:"absolute",top:18},disabled:{color:e.palette.secondary.light}}},Yi=Object(Be.a)((function(e){return Mi(e)})),Wi=function(e){var t=e.student,a=e.i,n=e.isNewRating,s=e.teacher,i=e.request,l=e.setIsNewRating,o=e.classId,u=e.isUpdateRating,d=e.setIsUpdateRating,m=Object(r.useState)([]),p=Object(Ke.a)(m,2),f=p[0],g=p[1],h=Object(r.useState)(""),b=Object(Ke.a)(h,2),E=b[0],j=b[1],v=Object(r.useState)(""),O=Object(Ke.a)(v,2),y=O[0],N=O[1],x=Object(r.useState)(!1),w=Object(Ke.a)(x,2),S=w[0],C=w[1],k=Object(r.useState)(!1),T=Object(Ke.a)(k,2),I=T[0],D=T[1],A=Object(r.useState)(!1),R=Object(Ke.a)(A,2),P=R[0],L=R[1],_=Object(r.useState)({description:"",date:"",scales:0}),U=Object(Ke.a)(_,2),z=U[0],q=U[1],B=Object(r.useState)(!1),F=Object(Ke.a)(B,2),M=F[0],Y=F[1],W=Object(r.useState)({}),H=Object(Ke.a)(W,2),G=H[0],Q=H[1],V=Object(r.useState)(!1),X=Object(Ke.a)(V,2),$=X[0],K=X[1],Z=Object(r.useState)({}),J=Object(Ke.a)(Z,2),ee=J[0],te=J[1],ae=Object(ki.b)({opacity:M?1:0,visibility:M?"visible":"hidden",transform:"perspective(600px) rotateX(".concat(M?180:0,"deg)"),config:{mass:5,tension:500,friction:80}}),ne=ae.transform,re=ae.opacity,ce=ae.visibility,se=Yi();Object(r.useEffect)((function(){t.ratings.forEach((function(e){s.subject===e.subject&&(g(e.ratings),N(e.id),j(t.id))})),i.adding||D(!1),i.working&&P&&(L(!1),Y(!M)),i.success&&!P&&(d(!1),K(!1))}),[s,t,i.adding,n,i.working,i.success,M]);var ie=function(e,t){L(e),q(t)},le=function(e){e.studentId=E,e.classId=o,Q(e),K(!$),Y(!M),te(e)};return c.a.createElement(bs.a,{hover:!0},c.a.createElement(Si.a,{style:{padding:0},className:Object(Ze.a)(se.firstCell,se.padding),align:"center"},a+1),c.a.createElement(Si.a,{className:Object(Ze.a)(se.padding,se.secondCell),align:"left"},c.a.createElement(Lt.a,{className:se.names},"".concat(t.lastName," ").concat(t.firstName))),c.a.createElement(Si.a,{className:Object(Ze.a)(se.padding,se.thirdCell),align:"left"},c.a.createElement("div",{className:se.previewRoot},c.a.createElement("div",{className:Object(Ze.a)(se.previewContent,P?se.showUpdate:se.hiddenUpdate)},c.a.createElement(ki.a.div,{className:se.flipped,style:{opacity:re.interpolate((function(e){return 1-e})),visibility:!ce,transform:ne}},c.a.createElement(rt.a,{elevation:9,className:se.preview},c.a.createElement(Lt.a,{className:se[z.scales],variant:"subtitle2"},z.description),c.a.createElement(Lt.a,{className:se[z.scales],variant:"subtitle2"},z.date))),c.a.createElement(ki.a.div,{className:se.flipped,style:{opacity:re,visibility:ce,transform:ne.interpolate((function(e){return"".concat(e," rotateX(180deg)")}))}},c.a.createElement(rt.a,{elevation:9,className:se.preview},c.a.createElement(Fi,{changeRating:function(e){te(e)},isEditMode:!0,classId:o,ratingsId:y,ratingToChange:G,isUpdate:$}))))),c.a.createElement("span",{className:se.ratings},f.map((function(e){return c.a.createElement(r.Fragment,{key:e._id},c.a.createElement("span",null,c.a.createElement(Ft.a,{title:n?"":u?"cancel update":"update grade",arrow:!0,placement:"bottom",TransitionComponent:Pt.a,enterDelay:3e3},c.a.createElement("span",null,c.a.createElement(Ri,{previewHandling:ie,updateHandling:le,updatedRating:ee,rating:e})))))})),c.a.createElement("div",{className:se.spinnerBox},i.adding&&I&&c.a.createElement(Ti.a,{size:"20px",color:"secondary"})))),c.a.createElement(Si.a,null,c.a.createElement("div",{className:se.buttonBox},c.a.createElement("span",null,c.a.createElement(Ft.a,{title:n&&!S?"":S?"cancel adding":"add grade",arrow:!0,placement:"bottom",TransitionComponent:Pt.a,TransitionProps:{timeout:1e3}},c.a.createElement("span",null,c.a.createElement(Ta.a,{"aria-label":"add",onClick:function(){S?(C(!1),l(!1)):n||(C(!0),l(!0))},disabled:u},c.a.createElement(Li.a,{className:!u&&!n||S&&n?S?se.buttonCancel:se.buttonAdd:se.disabled}))))),c.a.createElement(zc.a,{in:S},c.a.createElement(rt.a,{elevation:9,className:se.adding},c.a.createElement(Fi,{isEditMode:!1,addingHandling:function(e){C(!1),D(e===y),l(!1)},classId:o,ratingsId:y,teacher:s}))))))},Hi=Object(o.b)((function(e){return{isNewRating:xe(e),request:hr(e),isUpdateRating:Ne(e)}}),(function(e){return{setIsNewRating:function(t){return e(function(e){return{isNewRating:e,type:ie}}(t))},setIsUpdateRating:function(t){return e(ge(t))}}}))(Wi),Gi=Object(Be.a)((function(e){return xi(e)})),Qi=function(e){var t=e.selectedClass.students,a=e.teacher,n=e.selectedClass,s=e.request,i=e.addSubjectRating,l=Gi();Object(r.useEffect)((function(){o()}),[]);var o=function(){t.length&&t.forEach((function(e){e.ratings.length?e.ratings.map((function(e){return e.subject})).includes(a.subject)||i(e,a.subject):i(e,a.subject)}))};return c.a.createElement(rt.a,{elevation:3,className:l.root},s.updating?c.a.createElement(Lt.a,null,"Preparing data for new student..."):c.a.createElement(fs.a,{className:l.container},c.a.createElement(gs.a,{stickyHeader:!0,"aria-label":"sticky table"},c.a.createElement(Ci.a,null,c.a.createElement(bs.a,null,c.a.createElement(Si.a,{className:l.classInfo}),c.a.createElement(Si.a,{className:l.classInfo,style:{zIndex:0}},c.a.createElement(Lt.a,{className:l.description,display:"inline"},"student")),c.a.createElement(Si.a,{className:l.classInfo},c.a.createElement("span",{className:l.header},c.a.createElement(Lt.a,{className:l.description,display:"inline"},"grades"),c.a.createElement(Lt.a,{className:l.description,display:"inline"},"students: ",c.a.createElement("span",{className:l.tutorContent},n.students.length)),c.a.createElement(Lt.a,{className:l.description,display:"inline"},"class teacher: ",c.a.createElement(Bt.a,{href:"mailto:".concat(n.mainTeacher.email),className:l.tutorContent},n.mainTeacher.firstName," ",n.mainTeacher.lastName)))),c.a.createElement(Si.a,{className:l.classInfo},c.a.createElement(Lt.a,{align:"center",className:l.description},"add+")))),c.a.createElement(wi.a,null,t.map((function(e,t){return c.a.createElement(Hi,{classId:n.id,key:e.id,student:e,i:t,teacher:a})}))))))},Vi=Object(o.b)((function(e){return{request:hr(e)}}),(function(e){return{addSubjectRating:function(t,a){return e(function(e,t){return function(){var a=Object(Vt.a)(Qt.a.mark((function a(n){var r,c;return Qt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(mr()),a.prev=1,a.next=4,En.a.post("".concat(jn,"/rating"),{studentId:e.id,subject:t});case 4:return r=a.sent,a.next=7,En.a.post("".concat(jn,"/student/subject"),{id:e.id,rating:r.data});case 7:(c=e).ratings=[].concat(Object(hn.a)(c.ratings),[r.data]),n(Bn(c)),n(pr()),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(1),n(sr(a.t0.message));case 16:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))}}}))(Qi),Xi=Object(Be.a)((function(e){return Ni(e)})),$i=function(e){var t=e.loadClasses,a=e.loadClassById,n=e.user,s=e.availableClasses,i=e.request,l=e.resetRequest,o=e.modalYesNot,u=e.setModalYesNot,d=e.deleteRating,m=e.selectedClass,p=e.setSelectedClass,g=Xi(),h=Object(r.useState)(0),b=Object(Ke.a)(h,2),E=b[0],j=b[1],v=Object(r.useState)(!1),O=Object(Ke.a)(v,2),y=O[0],N=O[1],x=Object(r.useState)(!1),w=Object(Ke.a)(x,2),S=w[0],C=w[1],k=Object(r.useState)(!1),T=Object(Ke.a)(k,2),I=T[0],D=T[1],A=Object(r.useState)(!1),R=Object(Ke.a)(A,2),P=R[0],L=R[1];Object(r.useEffect)((function(){null===i.success&&t(n.id),i.success&&s.length&&!S&&(a(s[E].id),C(!0)),N(null!==i.error),D(Object.keys(m).length>0),I&&L(!0)}),[i.error,i.success,i.geting,s.length,S,m]),Object(r.useEffect)((function(){return function(){p({})}}),[]);var _=function(){var e=Object(Vt.a)(Qt.a.mark((function e(){return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({});case 2:return e.next=4,C(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(rt.a,{variant:"outlined",className:Object(Ze.a)(g.root,g.padding)},i.pending?c.a.createElement(gc,null):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:g.subjectInfo},c.a.createElement(Lt.a,{variant:"subtitle1"},"subject: ".concat(n.subject.toUpperCase()))),s.length?c.a.createElement(Lc.a,{position:"static",className:g.tabs},c.a.createElement(_c.a,{value:E,onChange:function(e,t){j(t),t!==E&&L(!1)},textColor:"primary"},s.map((function(e,t){return c.a.createElement(Uc.a,Object.assign({disabled:!I||!P,className:g.tabs,key:e.id,label:e.name},f(t)))})))):c.a.createElement(Lt.a,{style:{fontSize:18}},"You are not assigned to any class!"),c.a.createElement(rt.a,{className:Object(Ze.a)(g.root,g.image)},i.geting&&c.a.createElement(gc,{style:{marginLeft:"92px",marginTop:"55px"}}),I&&c.a.createElement(zc.a,{in:P,timeout:500,onExited:_,unmountOnExit:!0},c.a.createElement(rt.a,{elevation:4,style:{width:"100%"}},c.a.createElement(Vi,{selectedClass:m,teacher:n})))),c.a.createElement(Sc,{message:i.error,isOpenAlert:y,variant:"error",handleCloseHandling:function(){l()}}),c.a.createElement(ks,{description:o.content.description,isOpen:o.isOpen,isConfirm:function(e){var t=o.content.data,a=t.id,n=t._id,r=t.classId,c=t.studentId;u(!1,{description:"",data:{}}),e&&d(a,n,r,c)}})))},Ki=Object(o.b)((function(e){return{availableClasses:Mn(e),selectedClass:Wn(e),user:J(e),request:hr(e),modalYesNot:ke(e)}}),(function(e){return{setSelectedClass:function(t){return e(_n(t))},loadClassById:function(t){return e(function(e){return function(){var t=Object(Vt.a)(Qt.a.mark((function t(a){var n;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(fr()),t.prev=1,t.next=4,En.a.get("".concat(jn,"/class/").concat(e));case 4:n=t.sent,a(_n(n.data)),a(gr()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a(sr(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},loadClasses:function(t){return e(Qr(t))},resetRequest:function(){return e(ir())},setModalYesNot:function(t,a){return e(je(t,a))},deleteRating:function(t,a,n,r){return e(function(e,t,a,n){return function(){var r=Object(Vt.a)(Qt.a.mark((function r(c){var s;return Qt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(ur()),r.prev=1,r.next=4,En.a.delete("".concat(jn,"/ratings/").concat(e,"/").concat(t));case 4:s=r.sent,c(zn(a,n,s.data)),c(dr()),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),c(sr(r.t0.message));case 12:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()}(t,a,n,r))}}}))($i),Zi=function(){return c.a.createElement("div",null,c.a.createElement(ka,null,"Class Diaries"),c.a.createElement(Ki,null))},Ji=a(142),el=a.n(Ji),tl=a(143),al=a.n(tl),nl=function(e){return{root:{display:"flex",alignItems:"center",width:"100%",height:"58px",paddingLeft:Me,backgroundColor:e.palette.secondary.light,marginBottom:e.spacing(1),"&:hover":{backgroundColor:e.palette.action.item}},item:{display:"flex",alignItems:"center"},center:{justifyContent:"center"},parentsBox:{display:"flex",backgroundColor:"inherit",alignItems:"center",flexDirection:"column",height:"50px",width:"300px",padding:"".concat(Me," ").concat(Fe),overflow:"auto","&:hover":{backgroundColor:e.palette.action.header}},parents:{display:"inherit",height:"100%",width:"100%",backgroundColor:"inherit",alignItems:"center",flexDirection:"column"}}},rl=Object(Be.a)((function(e){return nl(e)})),cl=function(e){var t=e.student,a=rl();return c.a.createElement(rt.a,{variant:"outlined",className:a.root},c.a.createElement(Ue.a,{container:!0},c.a.createElement(Ue.a,{item:!0,lg:4,className:a.item},c.a.createElement(Lt.a,{style:{fontWeight:700},display:"inline"},t.name)),c.a.createElement(Ue.a,{item:!0,lg:2,className:Object(Ze.a)(a.item,a.center)},c.a.createElement(Lt.a,{align:"center"},t.birthDate.substring(0,10))),c.a.createElement(Ue.a,{item:!0,lg:2,className:Object(Ze.a)(a.item,a.center)},c.a.createElement(Lt.a,{align:"center"},t.className)),c.a.createElement(Ue.a,{item:!0,lg:4,className:Object(Ze.a)(a.item,a.center)},c.a.createElement("div",{className:a.parentsBox},t.parents.length?t.parents.map((function(e,t){return c.a.createElement("div",{key:t,className:a.parents},c.a.createElement(Bt.a,{href:"mailto: ".concat(e.email)},"".concat(e.name,"; ")),c.a.createElement(Lt.a,{variant:"subtitle2"},e.phone))})):c.a.createElement(Lt.a,null,"none")))))},sl=function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",height:"490px",marginTop:e.spacing(1),backgroundColor:e.palette.secondary.dark},item:{display:"flex",justifyContent:"center"},title:{color:e.palette.primary.light},table:{display:"flex",width:"100%",flexDirection:"column",height:"369px",margin:"".concat(Fe," 0"),overflow:"auto",backgroundColor:e.palette.secondary.dark},footer:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"52px"},center:{justifyContent:"center"}}},il=Object(Be.a)((function(e){return sl(e)})),ll=function(e){var t=e.request,a=e.teacherAllClass,n=e.loadTeacherStudentsName,s=e.allStudents,i=e.loadTeacherStudents,l=e.classesStudents,o=e.clearAllStudents,u=e.clearClassesStudents,d=Object(r.useState)(0),m=Object(Ke.a)(d,2),p=m[0],f=m[1],g=c.a.useState(6),h=Object(Ke.a)(g,2),b=h[0],E=h[1],j=Object(r.useState)(null),v=Object(Ke.a)(j,2),O=v[0],y=v[1],N=il();Object(r.useEffect)((function(){if(a.length){var e=a.map((function(e){return e.id}));n(e)}}),[a]),Object(r.useEffect)((function(){if(s.length&&null===O){var e=s.slice(p*b,p*b+b);i(e)}}),[s.length,p,b,O]),Object(r.useEffect)((function(){return function(){u([]),o([])}}),[]);return c.a.createElement(rt.a,{elevation:3,className:N.root},c.a.createElement(Ue.a,{container:!0,style:{padding:"8px 14px"}},c.a.createElement(Ue.a,{item:!0,lg:4},c.a.createElement(Lt.a,{className:N.title,variant:"subtitle2",display:"inline"},"student name")),c.a.createElement(Ue.a,{item:!0,lg:2,className:N.item},c.a.createElement(Lt.a,{className:N.title,variant:"subtitle2",display:"inline"},"birth date")),c.a.createElement(Ue.a,{item:!0,lg:2,className:N.item},c.a.createElement(Lt.a,{className:N.title,variant:"subtitle2",display:"inline"},"class")),c.a.createElement(Ue.a,{item:!0,lg:4,className:N.item},c.a.createElement(Lt.a,{className:N.title,variant:"subtitle2",display:"inline"},"parents")),c.a.createElement("div",{className:Object(Ze.a)(N.table,t.geting||!l.length?N.center:"")},t.geting?c.a.createElement(gc,null):l.length?l.map((function(e){return c.a.createElement(cl,{key:e.id,student:e})})):s.length?c.a.createElement(gc,null):c.a.createElement(Lt.a,{align:"center",style:{fontSize:18}},"You have no students assigned!")),c.a.createElement(fs.a,{className:N.footer,component:rt.a},c.a.createElement(js.a,{disabled:!s.length,id:"search-student",options:s,getOptionLabel:function(e){return e.name},style:{width:300,paddingLeft:"15px"},size:"small",onChange:function(e,t){return function(e){y(e),null!==e&&i([e])}(t)},renderInput:function(e){return c.a.createElement(ic.a,Object.assign({},e,{label:"Search student"}))}}),c.a.createElement(gs.a,null,c.a.createElement(hs.a,null,c.a.createElement(bs.a,null,c.a.createElement(Es.a,{hidden:null!==O||!s.length,rowsPerPageOptions:[6,12,20],colSpan:3,count:s.length,rowsPerPage:b,page:p,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){f(t)},onChangeRowsPerPage:function(e){E(parseInt(e.target.value,10)),f(0)},ActionsComponent:Hs})))))))},ol=Object(o.b)((function(e){return{request:hr(e),teacherAllClass:Mn(e),allStudents:Cr(e),classesStudents:Ir(e)}}),(function(e){return{loadTeacherStudentsName:function(t){return e(function(e){return function(){var t=Object(Vt.a)(Qt.a.mark((function t(a){var n;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(fr()),t.prev=1,t.next=4,En.a.get("".concat(jn,"/classes/teacher/students"),{params:{classesId:e}});case 4:n=t.sent,a(yr(n.data)),a(gr()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a(sr(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},loadTeacherStudents:function(t){return e(function(e){return function(){var t=Object(Vt.a)(Qt.a.mark((function t(a){var n,r,c;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(fr()),t.prev=1,n=e.map((function(e){return e.id})),t.next=5,En.a.get("".concat(jn,"//students/teacher"),{params:{studentsId:n}});case 5:r=t.sent,c=[],r.data.length&&e.forEach((function(e){r.data.forEach((function(t){e.id===t.id&&(c=[].concat(Object(hn.a)(c),[{id:e.id,name:e.name,className:e.className,birthDate:t.birthDate,parents:t.parents}]))}))})),a(Sr(c)),a(gr()),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),a(sr(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()}(t))},clearAllStudents:function(t){return e(yr(t))},clearClassesStudents:function(t){return e(Sr(t))}}}))(ll),ul=function(e){return{root:{display:"flex",backgroundColor:e.palette.secondary.light,justifyContent:"center",flexDirection:"column",padding:Fe,height:Ve},tabs:{backgroundColor:e.palette.action.tab,fontWeight:800},edit:{display:"flex",width:"100%",height:"490px",marginTop:e.spacing(1)}}},dl=Object(Be.a)((function(e){return ul(e)})),ml=function(e){var t=e.request,a=e.resetRequest,n=e.alertSuccess,s=e.setAlertSuccess,i=e.teacherAllClass,l=e.loadAllClasses,o=e.userId,u=Object(r.useState)(0),d=Object(Ke.a)(u,2),m=d[0],p=d[1],g=dl();Object(r.useEffect)((function(){i.length||l(o)}),[i.length]);return c.a.createElement(rt.a,{variant:"outlined",className:g.root},t.pending?c.a.createElement(gc,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(Lc.a,{position:"static",className:g.tabs},c.a.createElement(_c.a,{value:m,onChange:function(e,t){p(t)},textColor:"primary",variant:"fullWidth"},c.a.createElement(Uc.a,Object.assign({label:"students list",icon:c.a.createElement(el.a,null)},f(0))),c.a.createElement(Uc.a,Object.assign({label:"edit teacher data",icon:c.a.createElement(al.a,null)},f(1))))),0===m&&c.a.createElement(ol,null),1===m&&c.a.createElement("div",{className:g.edit},c.a.createElement(ls,null))),c.a.createElement(Sc,{isOpenAlert:null!==t.error||n.isOpen,variant:n.isOpen?"success":"error",message:n.isOpen?n.message:t.error,handleCloseHandling:function(){null!==t.error&&a(),n.isOpen&&s(!1,"")}}))},pl=Object(o.b)((function(e){return{request:hr(e),alertSuccess:Re(e),teacherAllClass:Mn(e),userId:ee(e)}}),(function(e){return{resetRequest:function(){return e(ir())},setAlertSuccess:function(t,a){return e(ve(t,a))},loadAllClasses:function(t){return e(Qr(t))}}}))(ml),fl=function(){return c.a.createElement("div",null,c.a.createElement(ka,null,"Teacher Data"),c.a.createElement(pl,null))},gl=a(293),hl=a.n(gl),bl=a(294),El=a.n(bl),jl=a(295),vl=a.n(jl),Ol=a(296),yl=a.n(Ol),Nl=[{image:vl.a,title:"Classes",width:400,height:260,top:195,left:260,path:"/classes"},{image:El.a,title:"Teachers",width:300,top:16,left:97,height:200,path:"/teachers"},{image:hl.a,title:"Students",width:300,height:200,right:146,top:136,path:"/students"},{image:yl.a,title:"Parents",width:350,height:220,top:160,path:"/parents"}],xl=function(){return c.a.createElement("div",null,c.a.createElement(ka,null,"Principal's Zone"),c.a.createElement(si,{userType:"principal",buttons:Nl}))},wl=a(297),Sl=a.n(wl),Cl=function(e){return{root:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:e.palette.action.adding,padding:Me},button:{outline:"none !important",backgroundColor:e.palette.primary.dark,"&:hover":{backgroundColor:e.palette.action.dark}},input:{minWidth:"180px"},addClass:{width:"600px",height:"56px",display:"inline-flex",justifyContent:"space-around",padding:Me,backgroundColor:e.palette.secondary.dark,alignItems:"center"},classGrade:{display:"inline-flex",justifyContent:"center",width:"250px"},classOptions:{display:"inline-flex",width:"180px",justifyContent:"space-around",alignItems:"center"},possibleNames:{width:"115px"},className:{paddingTop:"13px"}}},kl=Object(Be.a)((function(e){return Cl(e)})),Tl=function(e){var t=e.allClasses,a=e.addClass,n=e.loadTeachers,s=e.request,i=e.teachers,l=e.availableNames,o=e.getClassGrade,u=e.getPossibleTutors,d=e.tutorIsUse,m=e.setTutorIsUse,p=Object(r.useState)({name:"",mainTeacher:"unselected"}),f=Object(Ke.a)(p,2),g=f[0],h=f[1],b=Object(r.useState)(!1),E=Object(Ke.a)(b,2),j=E[0],v=E[1],O=Object(r.useState)([]),y=Object(Ke.a)(O,2),N=y[0],x=y[1],w=Object(r.useState)([]),S=Object(Ke.a)(w,2),C=S[0],k=S[1],T=Object(r.useState)("none"),I=Object(Ke.a)(T,2),D=I[0],A=I[1],R=kl();Object(r.useEffect)((function(){v("unselected"!==g.mainTeacher),0===i.length&&n(),t.length&&i.length&&d&&P()}),[l.grade,l.type,D,i,g.mainTeacher,t,d]);var P=function(){var e=[],a=[];l.grade.forEach((function(t){l.type.forEach((function(a){e=[].concat(Object(hn.a)(e),["".concat(t," ").concat(a)])}))})),t.forEach((function(t){e=e.filter((function(e){return e!==t.name.substring(6,t.name.length)}))})),"none"!==D&&(e=e.filter((function(e){return e.substring(0,1)===D}))),k(e),"unselected"===g.mainTeacher&&h(Object(Rr.a)({},g,{name:e[0]}));var n=t.map((function(e){return e.mainTeacher.id}));i.forEach((function(e){n.includes(e.id)||(a=[].concat(Object(hn.a)(a),[e]),x(a),u(a))})),n.length===i.length&&(x([]),u([])),m(!1)};return c.a.createElement(rt.a,{elevation:3,className:R.root},c.a.createElement("span",{style:{paddingLeft:"5px"}},"classes: ",c.a.createElement(Lt.a,{display:"inline",variant:"h6"},t.length)),c.a.createElement("span",{className:R.classGrade},c.a.createElement(tc.a,null,c.a.createElement(ac.a,{id:"choose-class-grade"},"sort by class level"),c.a.createElement(nc.a,{className:R.input,labelId:"choose-class-grade",value:D,onChange:function(e){A(e.target.value),o(e.target.value),m(!0)}},c.a.createElement(rc.a,{value:"none"},"none"),l.grade.map((function(e){return c.a.createElement(rc.a,{key:e,value:e},"".concat(e,"th"))}))))),c.a.createElement(rt.a,{variant:"outlined",className:R.addClass},s.adding?c.a.createElement(gc,null):c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:R.classOptions},c.a.createElement(Lt.a,{className:R.className,variant:"subtitle1"},"Class"),c.a.createElement(tc.a,{className:R.possibleNames},c.a.createElement(ac.a,{id:"class-names",style:{width:150}},"available names"),c.a.createElement(nc.a,{labelId:"class-names",value:g.name,onChange:function(e){h(Object(Rr.a)({},g,{name:e.target.value}))}},C.map((function(e){return c.a.createElement(rc.a,{key:e,value:e},e)}))))),c.a.createElement(tc.a,null,c.a.createElement(ac.a,{id:"choose-teacher"},"choose class teacher"),c.a.createElement(nc.a,{className:R.input,labelId:"choose-teacher",value:g.mainTeacher,onChange:function(e){h(Object(Rr.a)({},g,{mainTeacher:e.target.value}))}},c.a.createElement(rc.a,{value:"unselected"},"unselected"),N.map((function(e){return c.a.createElement(rc.a,{key:e.id,value:e},"".concat(e.lastName," ").concat(e.firstName))})))),c.a.createElement(Ft.a,{title:"Add class",placement:"bottom",arrow:!0,TransitionComponent:Pt.a,enterDelay:1e3},c.a.createElement("span",null,c.a.createElement(Ta.a,{className:R.button,onClick:function(){g.name="Class ".concat(g.name),a(g),h({name:"",mainTeacher:"unselected"})},disabled:!j},c.a.createElement(Sl.a,null)))))))},Il=Object(o.b)((function(e){return{allClasses:Yn(e),request:hr(e),teachers:te(e),availableNames:Hn(e),tutorIsUse:Se(e)}}),(function(e){return{loadTeachers:function(){return e(function(){var e=Object(Vt.a)(Qt.a.mark((function e(t){var a;return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(rr()),e.prev=1,e.next=4,new Promise((function(e){return setTimeout(e,2e3)}));case 4:return e.next=6,En.a.get("".concat(jn,"/users/teachers"));case 6:a=e.sent,t(W(a.data)),t(cr()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(sr(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())},addClass:function(t){return e(function(e){return function(){var t=Object(Vt.a)(Qt.a.mark((function t(a){var n,r;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(lr()),t.prev=1,t.next=4,En.a.post("".concat(jn,"/class"),e);case 4:n=t.sent,(r=n.data).mainTeacher=e.mainTeacher,a(qn(r)),a(ve(!0,"".concat(e.name," has been added."))),a(be(!0)),a(or()),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),a(sr(t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()}(t))},setTutorIsUse:function(t){return e(be(t))}}}))(Tl),Dl=function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",paddingTop:Fe},tabs:{backgroundColor:e.palette.action.tab,fontWeight:800},content:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.palette.secondary.dark,width:"100%",height:"430px",marginTop:e.spacing(1),backgroundImage:"url(".concat(yi.a,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat"},nothing:{height:"500px"}}},Al=a(543),Rl=a(483),Pl=a(564),Ll=a(565),_l=a(572),Ul=a(185),zl=a.n(Ul),ql=function(e){return{root:{width:"100%",margin:"7px",backgroundColor:e.palette.secondary.dark},buttons:{outline:"none !important",color:e.palette.primary.main},second:{display:"flex",height:"95px",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},selectTutor:{width:"100%",display:"inline-flex",justifyContent:"space-around",alignItems:"center"},descTutor:{width:"100%",display:"inline-flex",justifyContent:"center"},selectInput:{width:"250px"},replaceButton:{outline:"none !important",backgroundColor:e.palette.primary.dark,"&:hover":{backgroundColor:e.palette.action.dark}},tooltip:{backgroundColor:e.palette.secondary.light},buttonsActive:{outline:"none !important",backgroundColor:e.palette.primary.dark,"&:hover":{backgroundColor:e.palette.action.dark}},buttonDelete:{outline:"none !important",backgroundColor:e.palette.primary.light,color:e.palette.action.light,"&:hover":{color:e.palette.action.main}},searchField:{padding:"5px"},progress:{cursor:"progress !important"}}},Bl=Object(Be.a)((function(e){return ql(e)})),Fl=function(e){var t=e.request,a=e.classId,n=e.name,s=e.tutor,i=e.possibleTutors,l=e.getModeStatus,o=e.subjects,u=e.getSelectedSubject,d=e.getFilteredStudents,m=e.isChanging,p=e.updateTutor,f=e.confirmUpdate,g=e.getIsTutor,h=e.setModalYesNot,b=Bl(),E=Object(r.useState)("unselected"),j=Object(Ke.a)(E,2),v=j[0],O=j[1],y=Object(r.useState)(!1),N=Object(Ke.a)(y,2),x=N[0],w=N[1],S=Object(r.useState)(!1),C=Object(Ke.a)(S,2),k=C[0],T=C[1],I=Object(r.useState)(!1),D=Object(Ke.a)(I,2),A=D[0],R=D[1],P=Object(r.useState)("all"),L=Object(Ke.a)(P,2),_=L[0],U=L[1],z=Object(r.useState)(""),q=Object(Ke.a)(z,2),B=q[0],F=q[1],M=Object(r.useState)(!0),Y=Object(Ke.a)(M,2),W=Y[0],H=Y[1];Object(r.useEffect)((function(){w("unselected"!==v&&!k&&!A),l(k,A),t.updating&&(T(!1),R(!1),w(!1)),H(!k&&!A&&!t.updating)}),[v,k,A,t.updating]);return c.a.createElement(rt.a,{variant:"outlined",className:b.root},c.a.createElement(Ue.a,{container:!0,justify:"space-between",alignItems:"center"},c.a.createElement(Ue.a,{item:!0,lg:5},c.a.createElement("div",{className:b.descTutor},c.a.createElement(Lt.a,{display:"inline",component:"p",color:"textSecondary"},"class teacher:"),c.a.createElement(Lt.a,{display:"inline",component:"p",color:"textPrimary",style:{paddingLeft:"10px",fontWeight:700}}," ".concat(s.lastName," ").concat(s.firstName))),c.a.createElement("div",{className:b.selectTutor},c.a.createElement(tc.a,{disabled:A||k||t.updating,className:b.selectInput},c.a.createElement(ac.a,{id:"replace-tutor"},"replace"),c.a.createElement(nc.a,{labelId:"replace-tutor",value:v,onChange:function(e){O(e.target.value)}},c.a.createElement(rc.a,{value:"unselected"},"unselected"),i.map((function(e){return c.a.createElement(rc.a,{key:e.id,value:e},"".concat(e.lastName," ").concat(e.firstName))})))),c.a.createElement(Ft.a,{title:"Replace class teacher",classes:{tooltip:b.tooltip},placement:"top",arrow:!0,TransitionComponent:Pt.a,enterDelay:1e3},c.a.createElement("span",{className:t.updating||t.geting?b.progress:""},c.a.createElement(Ta.a,{size:"small",disabled:!x||t.updating,className:b.replaceButton,onClick:function(){"unselected"!==v&&(p({id:a,mainTeacher:v}),O("unselected"),g(!0))}},c.a.createElement(oc.a,{fontSize:"small"})))))),c.a.createElement(Ue.a,{item:!0,lg:2,className:b.second},c.a.createElement(Ft.a,{title:k?"OFF students list change mode":"ON students list change mode",classes:{tooltip:b.tooltip},placement:"left",arrow:!0,TransitionComponent:Pt.a,enterDelay:1e3},c.a.createElement("span",{className:t.updating?b.progress:""},c.a.createElement(vs.a,{variant:"outlined",disabled:t.updating,className:Object(Ze.a)(b.buttons,k&&b.buttonsActive),onClick:function(){T(!k),R(!1),F("")}},c.a.createElement(zl.a,null),c.a.createElement(gt.a,null)))),c.a.createElement(Ft.a,{title:A?"OFF class teachers list change mode":"ON class teachers list change mode",classes:{tooltip:b.tooltip},placement:"left",arrow:!0,TransitionComponent:Pt.a,enterDelay:1e3},c.a.createElement("span",{className:t.updating?b.progress:""},c.a.createElement(vs.a,{variant:"outlined",disabled:t.updating,className:Object(Ze.a)(b.buttons,A&&b.buttonsActive),onClick:function(){R(!A),T(!1),U("all")}},c.a.createElement(zl.a,null),c.a.createElement(bt.a,null))))),c.a.createElement(Ue.a,{item:!0,lg:5},c.a.createElement(Ue.a,{container:!0},c.a.createElement(Ue.a,{item:!0,lg:8,component:"span"},c.a.createElement(zc.a,{in:k},c.a.createElement(ic.a,{hidden:!k,size:"small",label:"search student",type:"search",id:"search-student",variant:"outlined",value:B,onChange:function(e){F(e.target.value),d(e.target.value)}})),c.a.createElement(zc.a,{in:A},c.a.createElement(tc.a,{className:b.selectInput,hidden:!A},c.a.createElement(ac.a,{id:"select-subject"},"sort by subject"),c.a.createElement(nc.a,{labelId:"select-subject",value:_,onChange:function(e){U(e.target.value),u(e.target.value)}},c.a.createElement(rc.a,{value:"all"},"all"),o.map((function(e,t){return c.a.createElement(rc.a,{key:t,value:e},e)})))))),c.a.createElement(Ue.a,{item:!0,lg:4,component:"span",style:{display:"flex",justifyContent:"center"}},c.a.createElement(Ue.a,{item:!0,lg:6,component:"span",style:{display:"flex",justifyContent:"space-between"}},c.a.createElement(Ft.a,{title:"Remove current class",classes:{tooltip:b.tooltip},placement:"top-end",arrow:!0,TransitionComponent:Pt.a,enterDelay:1e3},c.a.createElement("span",{className:t.updating?b.progress:""},c.a.createElement(Ta.a,{disabled:!W,className:b.buttonDelete,onClick:function(){h(!0,{description:"Do you want remove ".concat(n,"?"),data:{id:a}})}},c.a.createElement(Is.a,null))))),c.a.createElement(Ue.a,{item:!0,lg:6,component:"span",style:{display:"flex",justifyContent:"center"}},c.a.createElement(Ft.a,{title:"Confirm new list content",classes:{tooltip:b.tooltip},placement:"top-end",arrow:!0,TransitionComponent:Pt.a,enterDelay:1e3},c.a.createElement("span",{className:t.updating?b.progress:""},c.a.createElement(Ta.a,{disabled:!m||W,className:b.buttonsActive,onClick:f},c.a.createElement(oc.a,null))))))))))},Ml=Object(o.b)((function(e){return{request:hr(e)}}),(function(e){return{updateTutor:function(t){return e(function(e){return function(){var t=Object(Vt.a)(Qt.a.mark((function t(a){var n;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(mr()),t.prev=1,t.next=4,En.a.put("".concat(jn,"/class/tutor"),e);case 4:return n=t.sent,a(ve(!0,"".concat(n.data.name," tutor has been changed to ").concat(n.data.mainTeacher.lastName,"\n                 ").concat(n.data.mainTeacher.firstName))),t.next=8,a({tutor:n.data.mainTeacher,type:In});case 8:return t.next=10,a((r=e.id,c=n.data.mainTeacher.id,{classId:r,tutorId:c,type:Dn}));case 10:a(be(!0)),a(pr()),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),a(sr(t.t0.message));case 17:case"end":return t.stop()}var r,c}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}()}(t))},setModalYesNot:function(t,a){return e(je(t,a))}}}))(Fl),Yl=function(e){return{root:{backgroundColor:e.palette.secondary.dark,width:"100%",margin:"auto"},paper:{width:434,height:270,overflow:"auto",transition:".5s"},button:{margin:e.spacing(.5,0)},description:{padding:Me},moreWidth:{width:474,transition:".5s"},duplicate:{color:"#ff3838"},spinner:{display:"flex",justifyContent:"center",alignItems:"center"}}},Wl=Object(Be.a)((function(e){return Yl(e)})),Hl=function(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))},Gl=function(e,t){return e.filter((function(e){return-1!==t.indexOf(e)}))},Ql=function(e){var t=e.classItem,a=e.request,n=e.teachers,s=e.possibleTutors,i=e.freeStudents,l=e.availableSubjects,o=e.updateClass,u=e.studentMode,d=Object(r.useState)([]),m=Object(Ke.a)(d,2),f=m[0],g=m[1],h=Object(r.useState)(t.students),b=Object(Ke.a)(h,2),E=b[0],j=b[1],v=Object(r.useState)(t.subjectTeachers),O=Object(Ke.a)(v,2),y=O[0],N=O[1],x=Object(r.useState)("students"),w=Object(Ke.a)(x,2),S=w[0],C=w[1],k=Object(r.useState)("teachers"),T=Object(Ke.a)(k,2),I=T[0],D=T[1],A=Object(r.useState)(!1),R=Object(Ke.a)(A,2),P=R[0],L=R[1],_=Object(r.useState)(!1),U=Object(Ke.a)(_,2),z=U[0],q=U[1],B=Object(r.useState)(!1),F=Object(Ke.a)(B,2),M=F[0],Y=F[1],W=Object(r.useState)(!1),H=Object(Ke.a)(W,2),G=H[0],Q=H[1],V=Object(r.useState)(!0),X=Object(Ke.a)(V,2),$=X[0],K=X[1],Z=Object(r.useState)(!1),J=Object(Ke.a)(Z,2),ee=J[0],te=J[1],ae=Object(r.useState)([]),ne=Object(Ke.a)(ae,2),re=ne[0],ce=ne[1],se=Object(r.useState)(l["class".concat(t.name.substring(6,7))]),ie=Object(Ke.a)(se,1)[0],le=Object(r.useState)(!1),oe=Object(Ke.a)(le,2),ue=oe[0],de=oe[1],me=Object(r.useState)([]),pe=Object(Ke.a)(me,2),fe=pe[0],ge=pe[1],he=Object(r.useState)(!1),be=Object(Ke.a)(he,2),Ee=be[0],je=be[1],ve=Wl(),Oe=function(e){return e.filter((function(t,a){return e.indexOf(t)!==a}))};Object(r.useEffect)((function(){we(),L(M||G),P?setTimeout((function(){return q(!0)}),500):q(!1),M&&!G?(N(i),j(t.students),te(!0),K(!0),D("available students"),C("students"),je(!1)):!M&&G?(N(re),j(t.subjectTeachers),K(!1),te(!1),D("available teachers"),C("teachers"),je(!1)):(N(t.subjectTeachers),j(t.students),te(!1),K(!0),D("teachers"),C("students"))}),[M,G,P,z,n,t.students,t.subjectTeachers]),Object(r.useEffect)((function(){if(M||G){var e=M?t.students.map((function(e){return e.id})):t.subjectTeachers.map((function(e){return e.id})),a=E.map((function(e){return e.id})),n=e.length!==a.length;if(e.length===a.length){var r=0;e.forEach((function(e){a.includes(e)&&r++})),n=r!==e.length}de(n)}else de(!1);if(G){var c=E.map((function(e){return e.subject}));ge(Oe(c)),Oe(c).length>0&&de(!1)}}),[E]);var ye=Gl(f,E),Ne=Gl(f,y),xe=function(){var e=Object(Vt.a)(Qt.a.mark((function e(){return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(M);case 2:o(Object(aa.a)({id:t.id,isStudents:M},M?"students":"subjectTeachers",E));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=[],a=t.subjectTeachers.map((function(e){return e.id}));n.forEach((function(t){a.includes(t.id)||(e=[].concat(Object(hn.a)(e),[t]))})),ce(e)},Se=function(e){return function(){var t=f.indexOf(e),a=Object(hn.a)(f);-1===t?a.push(e):a.splice(t,1),g(a)}},Ce=function(e,t,a,n){var r=t.lastName,s=t.firstName,i=t.birthDate,l=t.subject;return c.a.createElement("span",{style:{whiteSpace:"nowrap"}},c.a.createElement(Lt.a,{display:"inline",component:"p",color:"textSecondary"},"".concat(e+1,". ")),c.a.createElement(Lt.a,{display:"inline",variant:"h6",color:"textPrimary"},"".concat(r," ").concat(s)),a?c.a.createElement(Lt.a,{display:"inline",component:"p",color:"textSecondary"}," d.o.b.: ".concat(i.substring(0,10))):c.a.createElement(Lt.a,{display:"inline",component:"p",color:"textSecondary",className:n.includes(l)?ve.duplicate:""}," - ".concat(l)))},ke=function(e,t){return c.a.createElement(rt.a,{className:Object(Ze.a)(ve.paper,!P&&ve.moreWidth,a.updating&&!Ee&&ve.spinner)},a.updating&&!Ee?c.a.createElement(gc,null):c.a.createElement(Al.a,{dense:!0,component:"div",role:"list"},e.map((function(e,a){var n="transfer-list-item-".concat(e,"-label");return c.a.createElement(Rl.a,{key:e.id,role:"listitem",button:!0,onClick:Se(e)},c.a.createElement(Pl.a,{id:n,style:{margin:0},primary:Ce(a,e,t,fe)}),c.a.createElement(Ll.a,{style:{justifyContent:"flex-end"}},c.a.createElement(_l.a,{hidden:!z,style:{padding:0},checked:-1!==f.indexOf(e),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":n}})))})),c.a.createElement(Rl.a,null)))};return c.a.createElement(Ue.a,{container:!0,spacing:2,justify:"space-between",alignItems:"center",className:ve.root},c.a.createElement(Ue.a,{item:!0},ke(E.sort(p),$),c.a.createElement(Lt.a,{className:ve.description,variant:"subtitle2"},"".concat(S,": ").concat(a.updating?"...":E.length))),c.a.createElement(zc.a,{in:z},c.a.createElement(Ue.a,{item:!0,hidden:!z},c.a.createElement(Ue.a,{container:!0,direction:"column",alignItems:"center"},c.a.createElement(vs.a,{variant:"outlined",size:"small",className:ve.button,onClick:function(){N(y.concat(ye)),j(Hl(E,ye)),g(Hl(f,ye))},disabled:0===ye.length,"aria-label":"move selected right"},">"),c.a.createElement(vs.a,{variant:"outlined",size:"small",className:ve.button,onClick:function(){j(E.concat(Ne)),N(Hl(y,Ne)),g(Hl(f,Ne))},disabled:0===Ne.length,"aria-label":"move selected left"},"<")))),c.a.createElement(Ue.a,{item:!0},ke(y.sort(p),ee),c.a.createElement(Lt.a,{className:ve.description,variant:"subtitle2"},"".concat(I,": ").concat(a.updating?"...":y.length))),c.a.createElement(Ml,{classId:t.id,name:t.name,tutor:t.mainTeacher,possibleTutors:s,getModeStatus:function(e,t){Y(e),Q(t)},subjects:ie,getSelectedSubject:function(e){N("all"!==e?re.filter((function(t){return t.subject===e})):re)},getFilteredStudents:function(e){N(i.filter((function(t){return t.lastName.toLowerCase().includes(e.toLowerCase())||t.firstName.toLowerCase().includes(e.toLowerCase())})))},isChanging:ue,confirmUpdate:xe,getIsTutor:function(e){return je(e)}}))},Vl=Object(o.b)((function(e){return{teachers:te(e),request:hr(e),availableSubjects:De(e),freeStudents:Tr(e)}}),(function(e){return{updateClass:function(t){return e(function(e){return function(){var t=Object(Vt.a)(Qt.a.mark((function t(a){var n;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(mr()),t.prev=1,t.next=4,En.a.put("".concat(jn,"/class"),e);case 4:if(n=t.sent,a(ve(!0,"".concat(e.isStudents?"Students":"Teachers"," list of ").concat(n.data," has been changed."))),!e.isStudents){t.next=9;break}return t.next=9,a(Gr());case 9:a((r=e.isStudents,c=e.isStudents?e.students:e.subjectTeachers,{isStudent:r,list:c,type:An})),a(pr()),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),a(sr(t.t0.message));case 16:case"end":return t.stop()}var r,c}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()}(t))},studentMode:function(t){return e(he(t))}}}))(Ql),Xl=Object(Be.a)((function(e){return Dl(e)})),$l=function(e){var t=e.allClasses,a=e.classGrade,n=e.allStudents,s=e.possibleTutors,i=e.request,l=e.getStudentsById,o=e.classesStudents,u=e.setFreeStudents,d=e.isStudentMode,p=e.setIsStudentMode,g=e.setSelectedClass,h=e.selectedClass,b=e.loadDataForClass,E=e.teachers,j=e.modalYesNot,v=e.deleteClass,O=e.setModalYesNot,y=Xl(),N=Object(r.useState)(0),x=Object(Ke.a)(N,2),w=x[0],S=x[1],C=Object(r.useState)(0),k=Object(Ke.a)(C,2),T=k[0],I=k[1],D=Object(r.useState)(!1),A=Object(Ke.a)(D,2),R=A[0],P=A[1],L=Object(r.useState)(!1),_=Object(Ke.a)(L,2),U=_[0],z=_[1],q=Object(r.useState)(t),B=Object(Ke.a)(q,2),F=B[0],M=B[1],Y=Object(r.useState)("none"),W=Object(Ke.a)(Y,2),H=W[0],G=W[1],Q=Object(r.useState)(!1),V=Object(Ke.a)(Q,2),X=V[0],$=V[1];Object(r.useEffect)((function(){a!==H&&(S(0),M(t.filter((function(e){return e.name.includes(a)}))),G(a),z(!1))}),[a]),Object(r.useEffect)((function(){o.length&&d&&Z(),"none"!==a?(M(t.filter((function(e){return e.name.includes(a)}))),G(a)):(M(t.sort(m)),G(a)),F.length&&!U&&E.length&&K(),P(Object.entries(h).length>0&&U)}),[t,a,F.length,E.length,h,H]);var K=function(){z(!0);var e=F[w];e.mainTeacher=E.find((function(t){return t.id===e.mainTeacher.id})),g(e),b(e.id)},Z=function(){p(!1);var e=[];n.forEach((function(t){o.includes(t)||e.push(t)})),e.length?l(e):u([])},J=function(){var e=Object(Vt.a)(Qt.a.mark((function e(){return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(!1);case 2:return e.next=4,S(T);case 4:return e.next=6,g({});case 6:b(F[T].id);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(Vt.a)(Qt.a.mark((function e(t){return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,$(!0);case 3:return e.next=5,P(!1);case 5:O(!1,j.content);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(Vt.a)(Qt.a.mark((function e(){return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(0),I(0),e.next=4,v(j.content.data.id);case 4:return e.next=6,g({});case 6:$(!1),O(!1,{description:"",data:{}});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(rt.a,{elevation:3,className:Object(Ze.a)(y.root,!F.length&&y.nothing)},F.length?c.a.createElement(c.a.Fragment,null,c.a.createElement(Lc.a,{position:"static",className:y.tabs},c.a.createElement(_c.a,{value:w,onChange:function(e,t){P(!1),I(t)},textColor:"primary",indicatorColor:"secondary",variant:"scrollable",scrollButtons:"auto"},F.map((function(e,t){return c.a.createElement(Uc.a,Object.assign({className:y.tabs,key:e.id,disabled:i.geting,label:e.name},f(t)))})))),c.a.createElement(rt.a,{className:y.content},i.geting?c.a.createElement(gc,{style:{marginLeft:"92px",marginTop:"55px"}}):c.a.createElement(zc.a,{in:R,timeout:500,onExited:X?te:J},c.a.createElement(rt.a,{elevation:4,style:{width:"100%"}},Object.entries(h).length>0&&c.a.createElement(Vl,{classItem:h,possibleTutors:s}))))):c.a.createElement(Lt.a,{variant:"h6"},"Nothing to show..."),c.a.createElement(ks,{description:j.content.description,isOpen:j.isOpen,isConfirm:ee}))},Kl=Object(o.b)((function(e){return{allClasses:Yn(e),allStudents:Cr(e),request:hr(e),classesStudents:Ir(e),isStudentMode:we(e),selectedClass:Wn(e),teachers:te(e),modalYesNot:ke(e)}}),(function(e){return{getStudentsById:function(t){return e(function(e){return function(){var t=Object(Vt.a)(Qt.a.mark((function t(a){var n;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(mr()),t.prev=1,t.next=4,En.a.get("".concat(jn,"/students/select"),{params:{studentsId:e}});case 4:n=t.sent,a(wr(n.data)),a(pr()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a(sr(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},setFreeStudents:function(t){return e(wr(t))},setSelectedClass:function(t){return e(_n(t))},loadDataForClass:function(t){return e(function(e){return function(){var t=Object(Vt.a)(Qt.a.mark((function t(a){var n;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(fr()),t.prev=1,t.next=4,En.a.get("".concat(jn,"/class/principal/").concat(e));case 4:n=t.sent,a({data:n.data,type:Tn}),a(gr()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a(sr(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},setIsStudentMode:function(t){return e(he(t))},deleteClass:function(t){return e(function(e){return function(){var t=Object(Vt.a)(Qt.a.mark((function t(a){var n;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(fr()),t.prev=1,t.next=4,En.a.delete("".concat(jn,"/class/").concat(e));case 4:return n=t.sent,a(ve(!0,"".concat(n.data.name," has been removed."))),t.next=8,a(Fn(e));case 8:return t.next=10,a(Gr());case 10:a(be(!0)),a(he(!0)),a(gr()),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),a(sr(t.t0.message));case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()}(t))},setModalYesNot:function(t,a){return e(je(t,a))}}}))($l),Zl=function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:Ve,width:"100%",padding:"0 ".concat(Fe)}}},Jl=Object(Be.a)((function(e){return Zl(e)})),eo=function(e){var t=e.request,a=e.loadAllClasses,n=e.loadAllStudents,s=e.loadStudentsIdFromClasses,i=e.resetRequest,l=e.alertSuccess,o=e.setAlertSuccess,u=e.clearAllClasses,d=e.clearAllStudents,m=e.clearFreeStudents,p=e.clearClassesStudents,f=e.clearSelectedClass,g=e.clearTeachers,h=e.allClasses,b=e.setIsStudentMode,E=e.setTutorIsUse,j=Object(r.useState)("none"),v=Object(Ke.a)(j,2),O=v[0],y=v[1],N=Object(r.useState)([]),x=Object(Ke.a)(N,2),w=x[0],S=x[1],C=Jl();Object(r.useEffect)((function(){return i(),a(),n(),s(),function(){u([]),d([]),m([]),p([]),f({}),g([]),b(!0),E(!0)}}),[]);return c.a.createElement(rt.a,{variant:"outlined",className:C.root},t.pending&&c.a.createElement(gc,null),t.success&&h.length?c.a.createElement(c.a.Fragment,null,c.a.createElement(Il,{getPossibleTutors:function(e){S(e)},getClassGrade:function(e){y(e)}}),c.a.createElement(Kl,{possibleTutors:w,classGrade:O})):c.a.createElement(c.a.Fragment,null),t.error&&c.a.createElement(Sc,{isOpenAlert:null!==t.error,variant:"error",handleCloseHandling:function(){i(),a()},message:t.error}),l.isOpen&&c.a.createElement(Sc,{isOpenAlert:l.isOpen,variant:"success",handleCloseHandling:function(){return o(!1,"")},message:l.message}))},to=Object(o.b)((function(e){return{request:hr(e),alertSuccess:Re(e),allClasses:Yn(e)}}),(function(e){return{clearAllClasses:function(t){return e(Ln(t))},clearAllStudents:function(t){return e(yr(t))},clearFreeStudents:function(t){return e(wr(t))},clearClassesStudents:function(t){return e(Sr(t))},clearSelectedClass:function(t){return e(_n(t))},clearTeachers:function(t){return e(W(t))},setIsStudentMode:function(t){return e(he(t))},setTutorIsUse:function(t){return e(be(t))},loadAllClasses:function(){return e(function(){var e=Object(Vt.a)(Qt.a.mark((function e(t){var a;return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(rr()),e.prev=1,e.next=4,En.a.get("".concat(jn,"/class"));case 4:a=e.sent,t(Ln(a.data)),t(cr()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(sr(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())},loadAllStudents:function(){return e(function(){var e=Object(Vt.a)(Qt.a.mark((function e(t){var a;return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(rr()),e.prev=1,e.next=4,En.a.get("".concat(jn,"/students/onlyid"));case 4:a=e.sent,t(yr(a.data)),t(cr()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(sr(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())},loadStudentsIdFromClasses:function(){return e(Gr())},resetRequest:function(){return e(ir())},setAlertSuccess:function(t,a){return e(ve(t,a))}}}))(eo),ao=function(){return c.a.createElement("div",null,c.a.createElement(ka,null,"Classes"),c.a.createElement(to,null))},no=a(299),ro=a.n(no),co=function(e){return{root:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:e.palette.secondary.light},names:{paddingBottom:"14px"},button:{marginTop:"50px",backgroundColor:e.palette.action.dark}}},so=Object(Be.a)((function(e){return co(e)})),io=function(e){var t=e.request,a=e.addStudent,n=e.maxBirthDate,s=e.studentsAmount,i=Object(r.useState)({firstName:"",lastName:"",birthDate:"",ratings:[],parents:[]}),l=Object(Ke.a)(i,2),o=l[0],u=l[1],d=Object(r.useState)(!1),m=Object(Ke.a)(d,2),p=m[0],f=m[1],g=Object(r.useState)(s),h=Object(Ke.a)(g,2),b=h[0],E=h[1],j=so();Object(r.useEffect)((function(){f(o.firstName.length>0&&o.lastName.length>0&&o.birthDate.length>0&&new Date(o.birthDate)<new Date(n)),b!==s&&(E(s),u(Object(Rr.a)({},o,{firstName:"",lastName:"",birthDate:""})))}),[o.firstName,o.lastName,o.birthDate,n,s]);var v=function(e){u(Object(Rr.a)({},o,Object(aa.a)({},e.target.name,e.target.value)))};return c.a.createElement("form",{className:j.root},t.adding?c.a.createElement(gc,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(ic.a,{className:j.names,label:"first name",name:"firstName",value:o.firstName,onChange:v}),c.a.createElement(ic.a,{className:j.names,label:"last name",name:"lastName",value:o.lastName,onChange:v}),c.a.createElement(ic.a,{label:"birth date",name:"birthDate",value:o.birthDate,type:"date",format:"dd/MM/yyyy",onChange:v,InputLabelProps:{shrink:!0},error:new Date(o.birthDate)>=new Date(n)}),c.a.createElement(uc.a,{color:"primary",className:j.button,"aria-label":"add",onClick:function(){var e=o;e.birthDate=new Date(e.birthDate),a(e)},disabled:!p},c.a.createElement(oc.a,null))))},lo=Object(o.b)((function(e){return{request:hr(e),maxBirthDate:Ae(e),studentsAmount:kr(e)}}),(function(e){return{addStudent:function(t){return e(function(e){return function(){var t=Object(Vt.a)(Qt.a.mark((function t(a){var n;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(lr()),t.prev=1,t.next=4,En.a.post("".concat(jn,"/student"),e);case 4:n=t.sent,a(ve(!0,"Student ".concat(n.data.firstName," ").concat(n.data.lastName," has been added."))),a(Nr(n.data)),a(or()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a(sr(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(io),oo=a(298),uo=a.n(oo),mo=function(e){return{root:{width:"100%",padding:"".concat(Me," ").concat(Fe),marginBottom:e.spacing(1),"&:hover":{backgroundColor:e.palette.action.item}},item:{backgroundColor:e.palette.action.item},buttons:{display:"inline-flex",justifyContent:"space-around",padding:"".concat(Me," 0")},button:{outline:"none !important"},names:{display:"flex",alignItems:"center"},justifyCenter:{justifyContent:"center"},delete:{color:e.palette.action.light},edit:{color:e.palette.action.dark},close:{color:e.palette.action.warning},progress:{cursor:"progress"}}},po=Object(Be.a)((function(e){return mo(e)})),fo=function(e){var t=e.request,a=e.setModalYesNot,n=e.student,s=e.updateStudent,i=e.getStudentIdUpdated,l=e.studentIdUpdated,o=e.maxBirthDate,d=e.setAvailable,m=Object(r.useState)({firstName:n.firstName,lastName:n.lastName,birthDate:n.birthDate}),p=Object(Ke.a)(m,2),f=p[0],g=p[1],h=Object(r.useState)(!1),b=Object(Ke.a)(h,2),E=b[0],j=b[1],v=Object(r.useState)(!1),O=Object(Ke.a)(v,2),y=O[0],N=O[1],x=Object(r.useState)(!1),w=Object(Ke.a)(x,2),S=w[0],C=w[1],k=Object(r.useState)(!1),T=Object(Ke.a)(k,2),I=T[0],D=T[1],A=Object(r.useState)(!1),R=Object(Ke.a)(A,2),P=R[0],L=R[1],_=po();Object(r.useEffect)((function(){E||t.adding||(g({firstName:n.firstName,lastName:n.lastName,birthDate:n.birthDate}),i("")),D(new Date(f.birthDate)>=new Date(o)),N(n.firstName!==f.firstName||n.lastName!==f.lastName||n.birthDate!==f.birthDate),C(l===n.id)}),[f.firstName,f.lastName,f.birthDate,l,t.adding]);var U=function(e){g(Object(Rr.a)({},f,Object(aa.a)({},e.target.name,e.target.value)))},z=function(){var e=Object(Vt.a)(Qt.a.mark((function e(){return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(n.parents);case 2:L(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(rt.a,{className:Object(Ze.a)(_.root,E&&_.item),variant:"outlined"},P&&c.a.createElement(u.a,{to:"/parents/available"}),c.a.createElement(Ue.a,{container:!0},c.a.createElement(Ue.a,{item:!0,lg:6,className:_.names},S&&f.firstName!==n.firstName||S&&f.lastName!==n.lastName?c.a.createElement(gc,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(Lt.a,{hidden:E,style:{fontWeight:"700"},display:"inline"},"".concat(f.lastName," ").concat(f.firstName)),c.a.createElement(ic.a,{name:"lastName",value:f.lastName,hidden:!E,label:"Last name",size:"small",onChange:U,error:!f.lastName.length}),c.a.createElement(ic.a,{name:"firstName",value:f.firstName,hidden:!E,label:"First name",size:"small",onChange:U,error:!f.firstName.length}))),c.a.createElement(Ue.a,{item:!0,lg:2,className:Object(Ze.a)(_.names,_.justifyCenter)},S&&f.birthDate!==n.birthDate?c.a.createElement(gc,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(Lt.a,{hidden:E,display:"inline"},f.birthDate.substring(0,10)),c.a.createElement(ic.a,{name:"birthDate",value:f.birthDate.substring(0,10),hidden:!E,type:"date",size:"small",onChange:U,error:I}))),c.a.createElement(Ue.a,{item:!0,lg:2,className:Object(Ze.a)(_.names,_.justifyCenter)},c.a.createElement(Lt.a,{display:"inline"},n.className)),c.a.createElement(Ue.a,{item:!0,lg:2,className:_.buttons},c.a.createElement(Ft.a,{title:"Parents",placement:"top",arrow:!0,TransitionComponent:Pt.a,enterDelay:1e3},c.a.createElement("span",{className:(t.updating||t.adding)&&_.progress},c.a.createElement(Ta.a,{disabled:!n.parents.length||t.updating||t.adding,className:_.button,onClick:z},c.a.createElement(pt.a,{fontSize:"small"})))),c.a.createElement(Ft.a,{title:"".concat(E?"Close edit mode":"Open edit mode"),placement:"top",arrow:!0,TransitionComponent:Pt.a,enterDelay:1e3},c.a.createElement("span",{className:(t.updating||t.adding)&&_.progress},c.a.createElement(Ta.a,{className:Object(Ze.a)(_.button,E?_.close:_.edit),disabled:t.updating||t.adding,onClick:function(){j(!E),y&&g({firstName:n.firstName,lastName:n.lastName,birthDate:n.birthDate})}},E?c.a.createElement(uo.a,{fontSize:"small"}):c.a.createElement(al.a,{fontSize:"small"})))),c.a.createElement(Ft.a,{title:y?"Confirm updating":"Remove student",placement:"top",arrow:!0,TransitionComponent:Pt.a,enterDelay:1e3},c.a.createElement("span",{className:(t.updating||t.adding)&&_.progress},c.a.createElement(Ta.a,{className:Object(Ze.a)(_.button,y?_.edit:_.delete),disabled:t.updating||t.adding||I||!f.firstName.length||!f.lastName.length,onClick:E&&y?function(){N(!1),j(!1);var e={id:n.id,firstName:f.firstName,lastName:f.lastName,birthDate:f.birthDate,className:n.className,parents:n.parents};s(e),i(n.id)}:function(){a(!0,{description:"Do you want remove student ".concat(f.lastName," ").concat(f.firstName,"?"),data:{studentId:n.id}})}},y?c.a.createElement(oc.a,{fontSize:"small"}):c.a.createElement(Is.a,{fontSize:"small"})))))))},go=Object(o.b)((function(e){return{request:hr(e),maxBirthDate:Ae(e)}}),(function(e){return{setModalYesNot:function(t,a){return e(je(t,a))},updateStudent:function(t){return e(function(e){return function(){var t=Object(Vt.a)(Qt.a.mark((function t(a){var n;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(lr()),t.prev=1,t.next=4,En.a.put("".concat(jn,"/student/basic"),{id:e.id,firstName:e.firstName,lastName:e.lastName,birthDate:e.birthDate});case 4:n=t.sent,a(ve(!0,"Student ".concat(n.data.studentName," data has been changed."))),a(xr(e)),a(or()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a(sr(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))},setAvailable:function(t){return e(Oe(t))}}}))(fo),ho=function(e){return{header:{width:"100%",backgroundColor:e.palette.secondary.dark},item:{display:"flex",justifyContent:"center"},title:{color:e.palette.primary.light},table:{display:"flex",width:"100%",flexDirection:"column",alignItems:"center",height:"369px",marginBottom:e.spacing(1),overflow:"auto",backgroundColor:e.palette.secondary.dark},footer:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"52px"},spinner:{justifyContent:"center"}}},bo=Object(Be.a)((function(e){return ho(e)})),Eo=function(e){var t=e.selectedStudents,a=e.allStudents,n=e.loadStudentsNames,s=e.loadStudentsWithRange,i=e.request,l=e.modalYesNot,o=e.setModalYesNot,u=e.deleteStudent,d=e.getStudent,m=Object(r.useState)(0),p=Object(Ke.a)(m,2),f=p[0],g=p[1],h=c.a.useState(5),b=Object(Ke.a)(h,2),E=b[0],j=b[1],v=Object(r.useState)(""),O=Object(Ke.a)(v,2),y=O[0],N=O[1],x=Object(r.useState)(null),w=Object(Ke.a)(x,2),S=w[0],C=w[1],k=bo();Object(r.useEffect)((function(){a.length||n(),null===S&&s(f+1,E)}),[f,E,S]);var T=function(e){N(e)};return c.a.createElement(Ue.a,{container:!0,justify:"center",alignItems:"center",style:{height:"470px"}},i.working?c.a.createElement(gc,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(rt.a,{className:k.header},c.a.createElement(Ue.a,{container:!0,style:{padding:"8px 14px"}},c.a.createElement(Ue.a,{item:!0,lg:6},c.a.createElement(Lt.a,{className:k.title,variant:"subtitle2",display:"inline"},"student's name")),c.a.createElement(Ue.a,{item:!0,lg:2,className:k.item},c.a.createElement(Lt.a,{className:k.title,variant:"subtitle2",display:"inline"},"birth date")),c.a.createElement(Ue.a,{item:!0,lg:2,className:k.item},c.a.createElement(Lt.a,{className:k.title,variant:"subtitle2",display:"inline"},"class")),c.a.createElement(Ue.a,{item:!0,lg:2,className:k.item},c.a.createElement(Lt.a,{className:k.title,variant:"subtitle2",display:"inline"},"operations")))),c.a.createElement(rt.a,{className:Object(Ze.a)(k.table,i.geting?k.spinner:"")},i.geting?c.a.createElement(gc,null):c.a.createElement(c.a.Fragment,null,t.map((function(e){return c.a.createElement(go,{key:e.id,student:e,studentIdUpdated:y,getStudentIdUpdated:T})}))),c.a.createElement(ks,{description:l.content.description,isOpen:l.isOpen,isConfirm:function(e){var t=l.content.data.studentId;e&&u(t),o(!1,{description:"",data:{}})}})),c.a.createElement(fs.a,{className:k.footer,component:rt.a},c.a.createElement(js.a,{id:"search-student",options:a,getOptionLabel:function(e){return e.name},style:{width:300,paddingLeft:"15px"},size:"small",onChange:function(e,t){return function(e){C(e),null!==e&&d(e.id)}(t)},renderInput:function(e){return c.a.createElement(ic.a,Object.assign({},e,{label:"Search student"}))}}),c.a.createElement(gs.a,null,c.a.createElement(hs.a,null,c.a.createElement(bs.a,null,c.a.createElement(Es.a,{hidden:null!==S,rowsPerPageOptions:[5,10,25],colSpan:3,count:a.length,rowsPerPage:E,page:f,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){g(t)},onChangeRowsPerPage:function(e){j(parseInt(e.target.value,10)),g(0)},ActionsComponent:Hs})))))))},jo=Object(o.b)((function(e){return{selectedStudents:Cr(e),allStudents:Tr(e),request:hr(e),modalYesNot:ke(e)}}),(function(e){return{loadStudentsWithRange:function(t,a){return e(Kr(t,a))},loadStudentsNames:function(){return e(Zr())},setModalYesNot:function(t,a){return e(je(t,a))},deleteStudent:function(t){return e(function(e){return function(){var t=Object(Vt.a)(Qt.a.mark((function t(a){var n;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(mr()),t.prev=1,t.next=4,En.a.delete("".concat(jn,"/student/").concat(e));case 4:if(!(n=t.sent).data.ratings.length){t.next=8;break}return t.next=8,En.a.delete("".concat(jn,"/ratings"),{data:{ratingsId:n.data.ratings}});case 8:a(Zr()),a(Kr(1,5)),a(ve(!0,"Student ".concat(n.data.studentName," has been removed."))),a(pr()),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),a(sr(t.t0.message));case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}()}(t))},getStudent:function(t){return e(function(e){return function(){var t=Object(Vt.a)(Qt.a.mark((function t(a){var n,r,c,s;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(fr()),t.prev=1,t.next=4,En.a.get("".concat(jn,"/student/").concat(e));case 4:return n=t.sent,r=[e],c=n.data,t.next=9,En.a.get("".concat(jn,"/classes/students/name"),{params:{studentsId:r}});case 9:(s=t.sent).data.length?c.className=s.data[0].name:c.className="no assigned",a(yr([c])),a(gr()),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),a(sr(t.t0.message));case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Eo),vo=function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:Ve,width:"100%",padding:"0 ".concat(Fe)},tabs:{backgroundColor:e.palette.action.tab,fontWeight:800},content:{backgroundColor:e.palette.secondary.dark,width:"100%",height:"480px",padding:"5px",marginTop:e.spacing(2)}}},Oo=Object(Be.a)((function(e){return vo(e)})),yo=function(e){var t=e.request,a=e.resetRequest,n=e.alertSuccess,s=e.setAlertSuccess,i=e.allStudents,l=e.freeStudents,o=e.clearAllStudents,u=e.clearFreeStudents,d=Object(r.useState)(0),m=Object(Ke.a)(d,2),p=m[0],g=m[1],h=Object(r.useState)(!1),b=Object(Ke.a)(h,2),E=b[0],j=b[1],v=Oo();Object(r.useEffect)((function(){i.length||l.length||E||j(!0)}),[i,l,E]),Object(r.useEffect)((function(){return function(){o([]),u([])}}),[]);return c.a.createElement(rt.a,{variant:"outlined",className:v.root},c.a.createElement(c.a.Fragment,null,c.a.createElement(Lc.a,{position:"static",className:v.tabs},c.a.createElement(_c.a,{value:p,onChange:function(e,t){g(t)},textColor:"primary",variant:"fullWidth"},c.a.createElement(Uc.a,Object.assign({className:v.tabs,label:"students list",icon:c.a.createElement(el.a,null)},f(0))),c.a.createElement(Uc.a,Object.assign({className:v.tabs,label:"add student",icon:c.a.createElement(ro.a,null)},f(1))))),c.a.createElement(rt.a,{className:v.content,elevation:9},0===p&&E&&c.a.createElement(jo,null),1===p&&c.a.createElement(lo,null))),c.a.createElement(Sc,{isOpenAlert:n.isOpen||null!==t.error,variant:n.isOpen?"success":"error",message:n.isOpen?n.message:t.error,handleCloseHandling:function(){n.isOpen?s(!1,""):a()}}))},No=Object(o.b)((function(e){return{request:hr(e),alertSuccess:Re(e),allStudents:Cr(e),freeStudents:Tr(e)}}),(function(e){return{resetRequest:function(){return e(ir())},setAlertSuccess:function(t,a){return e(ve(t,a))},clearAllStudents:function(t){return e(yr(t))},clearFreeStudents:function(t){return e(wr(t))}}}))(yo),xo=function(){return c.a.createElement("div",null,c.a.createElement(ka,null,"Students"),c.a.createElement(No,null))},wo=a(573),So=a(566),Co=a(567),ko=a(301),To=a.n(ko),Io=a(300),Do=a.n(Io),Ao=function(e){return{root:{display:"flex",alignItems:"center",backgroundColor:e.palette.secondary.dark,padding:"".concat(Me," 0")},formControl:{margin:e.spacing(1),minWidth:120},addButton:{color:e.palette.action.dark},removeButton:{color:e.palette.action.light},tooltip:{backgroundColor:e.palette.secondary.light},progress:{cursor:"progress"}}},Ro=Object(Be.a)((function(e){return Ao(e)})),Po=function(e){var t=e.list,a=e.selectName,n=e.buttonName,s=e.confirmSelect,i=e.isDisabled,l=e.isAdd,o=e.parentId,u=Object(r.useState)(null),d=Object(Ke.a)(u,2),m=d[0],p=d[1],f=Ro();Object(r.useEffect)((function(){i&&p(null)}),[i]);return c.a.createElement(rt.a,{variant:"outlined",className:Object(Ze.a)(f.root,i&&f.progress)},c.a.createElement(js.a,{disabled:i,id:o,value:m,renderInput:function(e){return c.a.createElement(ic.a,Object.assign({},e,{label:a}))},getOptionLabel:function(e){return"".concat(e.lastName," ").concat(e.firstName)},options:t,style:{width:240,paddingLeft:"15px"},size:"small",onChange:function(e,t){return function(e){p(e)}(t)}}),c.a.createElement(Ft.a,{title:n,arrow:!0,classes:{tooltip:f.tooltip},placement:"top",TransitionComponent:Pt.a,TransitionProps:{timeout:1e3}},c.a.createElement("span",{className:i?f.progress:""},c.a.createElement(Ta.a,{className:l?f.addButton:f.removeButton,disabled:i||null===m,"aria-label":n,onClick:function(){s(m)}},l?c.a.createElement(Li.a,null):c.a.createElement(Do.a,null)))))},Lo=function(e){return{root:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},button:{color:e.palette.action.light,backgroundColor:e.palette.primary.light},info:{backgroundColor:e.palette.secondary.dark,width:"300px",height:"60px",padding:e.spacing(1),overflow:"auto"},second:{fontSize:Fe,color:e.palette.primary.light},tooltip:{backgroundColor:e.palette.secondary.light},spinner:{display:"flex",justifyContent:"center",alignItems:"center"},progress:{cursor:"progress"}}},_o=Object(Be.a)((function(e){return Lo(e)})),Uo=function(e){var t=e.parent,a=e.allStudents,n=e.updateUser,s=e.updateStudent,i=e.request,l=e.deleteParent,o=e.page,u=Object(r.useState)([]),d=Object(Ke.a)(u,2),m=d[0],p=d[1],f=Object(r.useState)(!1),g=Object(Ke.a)(f,2),h=g[0],b=g[1],E=Object(r.useState)(t.students.map((function(e){return e.id}))),j=Object(Ke.a)(E,2),v=j[0],O=j[1],y=_o();Object(r.useEffect)((function(){O(t.students.map((function(e){return e.id})))}),[t.students]),Object(r.useEffect)((function(){var e=a.filter((function(e){return!v.includes(e.id)}));p(e)}),[a,t.students,v]);var N=function(){var e=Object(Vt.a)(Qt.a.mark((function e(a){var r,c;return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={studentName:"".concat(a.lastName," ").concat(a.firstName),parentName:"".concat(t.lastName," ").concat(t.firstName),isAdd:!0},c=[].concat(Object(hn.a)(t.students),[a]),e.next=4,n(t.id,c,r);case 4:s(a.id,t,!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(Vt.a)(Qt.a.mark((function e(a){var r,c;return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={studentName:"".concat(a.lastName," ").concat(a.firstName),parentName:"".concat(t.lastName," ").concat(t.firstName),isAdd:!1},c=t.students.filter((function(e){return e.id!==a.id})),e.next=4,n(t.id,c,r);case 4:s(a.id,t,!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:y.root},c.a.createElement(Ft.a,{disabled:i.adding,title:"Remove parent",arrow:!0,classes:{tooltip:y.tooltip},placement:"top-start",TransitionComponent:Pt.a,TransitionProps:{timeout:1e3}},c.a.createElement("span",{className:i.adding?y.progress:""},c.a.createElement(Ta.a,{disabled:i.adding,"aria-label":"remove",className:y.button,onClick:function(){return b(!0)}},c.a.createElement(Is.a,{fontSize:"small"})))),c.a.createElement(Po,{parentId:"".concat(t.id," add"),list:m,isAdd:!0,selectName:"unassigned students",buttonName:"Assign",isDisabled:i.adding,confirmSelect:N}),c.a.createElement(Po,{parentId:t.id,list:t.students,isAdd:!1,selectName:"assigned students",buttonName:"Unassign",confirmSelect:x,isDisabled:i.adding}),c.a.createElement(rt.a,{variant:"outlined",className:Object(Ze.a)(y.info,i.adding&&y.spinner)},i.adding?c.a.createElement(gc,null):t.students.length?t.students.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement(Lt.a,{className:y.second,display:"inline"},"".concat(t+1,". ")),c.a.createElement(Lt.a,{variant:"subtitle2",display:"inline"},"".concat(e.firstName," ").concat(e.lastName)),c.a.createElement(Lt.a,{className:y.second,display:"inline"}," ".concat(e.birthDate.substring(0,10),", ").concat(e.className)))})):c.a.createElement(Lt.a,{variant:"subtitle2"},"The parent has no student assigned"))),c.a.createElement(ks,{isOpen:h,isConfirm:function(e){b(!1),e&&(t.students.length&&t.students.forEach((function(e){s(e.id,t,!1)})),l(t.id,o))},description:"Are you sure you want to delete the parent ".concat(t.lastName," ").concat(t.firstName,"?")}))},zo=Object(o.b)((function(e){return{allStudents:Cr(e),request:hr(e)}}),(function(e){return{updateUser:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(Vt.a)(Qt.a.mark((function n(r){var c;return Qt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(lr()),n.prev=1,n.next=4,En.a.put("".concat(jn,"/users/parent/").concat(e),{studentsList:t});case 4:c=n.sent,r(G(c.data.id,t)),r(ve(!0,"Student ".concat(a.studentName," ").concat(a.isAdd?"has been assigned":"is no longer assigned"," to a parent ").concat(a.parentName,"."))),r(or()),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),r(sr(n.t0.message));case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))},updateStudent:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(Vt.a)(Qt.a.mark((function n(r){var c,s,i;return Qt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(lr()),n.prev=1,n.next=4,En.a.put("".concat(jn,"/student/parents/").concat(e),{parent:t,isAdd:a});case 4:if(c=n.sent,!a){n.next=11;break}return s=[c.data.studentId],n.next=9,En.a.get("".concat(jn,"/classes/students/name"),{params:{studentsId:s}});case 9:(i=n.sent).data.length?r(Q(t.id,c.data.studentId,i.data[0].name)):r(Q(t.id,c.data.studentId,"none class"));case 11:r(or()),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(1),r(sr(n.t0.message));case 17:case"end":return n.stop()}}),n,null,[[1,14]])})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))},deleteParent:function(t,a){return e(function(e,t){return function(){var a=Object(Vt.a)(Qt.a.mark((function a(n){var r;return Qt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(rr()),a.prev=1,a.next=4,En.a.delete("".concat(jn,"/users/").concat(e));case 4:return r=a.sent,n(X(e)),a.next=8,n(Xr(t+1,7));case 8:n(ve(!0,"Parent ".concat(r.data.name," has been removed."))),n(cr()),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),n(sr(a.t0.message));case 15:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))}}}))(Uo),qo=function(e){return{root:{width:"100%",margin:"".concat(e.spacing(.2),"px 0")},item:{backgroundColor:e.palette.secondary.dark},select:{width:"100%",margin:"".concat(e.spacing(1),"px 0")},selected:{fontWeight:"800"}}},Bo=Object(Be.a)((function(e){return qo(e)})),Fo=function(e){var t=e.parent,a=e.i,n=e.selectedItem,s=e.collapseHandling,i=e.page,l=Bo();Object(r.useEffect)((function(){}),[n]);return c.a.createElement("div",{className:n===a?l.select:l.root},c.a.createElement(wo.a,{className:l.item,expanded:n===a,onChange:function(){s(a)}},c.a.createElement(So.a,{expandIcon:c.a.createElement(To.a,null)},c.a.createElement(Ue.a,{container:!0},c.a.createElement(Ue.a,{item:!0,lg:1},c.a.createElement(Lt.a,{className:n===a?l.selected:"",align:"left",variant:"subtitle1",color:"primary"},a+1)),n===a?c.a.createElement(Ue.a,{item:!0,lg:4},c.a.createElement(Lt.a,{className:l.selected,align:"center",variant:"subtitle1",color:"primary"},"".concat(t.lastName," ").concat(t.firstName))):c.a.createElement(c.a.Fragment,null,c.a.createElement(Ue.a,{item:!0,lg:2},c.a.createElement(Lt.a,{align:"left",variant:"subtitle1",color:"primary"},t.lastName.length>12?"".concat(t.lastName.substring(0,13),"..."):t.lastName)),c.a.createElement(Ue.a,{item:!0,lg:2},c.a.createElement(Lt.a,{align:"left",variant:"subtitle1",color:"primary"},t.firstName.length>12?"".concat(t.firstName.substring(0,13),"..."):t.firstName))),c.a.createElement(Ue.a,{item:!0,lg:2},c.a.createElement(Lt.a,{className:n===a?l.selected:"",align:"center",variant:"subtitle1",color:"primary"},t.telephone)),c.a.createElement(Ue.a,{item:!0,lg:3},c.a.createElement(Lt.a,{className:n===a?l.selected:"",align:"center",variant:"subtitle1",color:"primary"},c.a.createElement(Bt.a,{href:"mailto:".concat(t.email)},t.email))),c.a.createElement(Ue.a,{item:!0,lg:1},c.a.createElement(Lt.a,{className:n===a?l.selected:"",align:"center",variant:"subtitle1",color:"primary"},t.students.length)))),c.a.createElement(Co.a,null,c.a.createElement(zo,{page:i,parent:t}))))},Mo=function(e){return{root:{backgroundColor:e.palette.secondary.light},info:{padding:"".concat(Me," 0 0 22px")},content:{justifyContent:"space-between",flexDirection:"column",padding:"0 ".concat(Fe),height:"515px"},footer:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"52px",marginBottom:Me},spinner:{justifyContent:"center !important"},noFull:{justifyContent:"flex-start !important"}}},Yo=Object(Be.a)((function(e){return Mo(e)})),Wo=function(e){var t=e.loadParents,a=e.loadParent,n=e.loadStudents,s=e.loadParentName,i=e.request,l=e.parents,o=e.parentsName,d=e.resetRequest,m=e.allStudents,p=e.clearParents,f=e.clearStudents,g=e.clearParentsName,h=e.alertSuccess,b=e.setAlertSuccess,E=e.available,j=e.clearAvailable,v=Object(r.useState)(0),O=Object(Ke.a)(v,2),y=O[0],N=O[1],x=Object(r.useState)(null),w=Object(Ke.a)(x,2),S=w[0],C=w[1],k=Object(r.useState)(0),T=Object(Ke.a)(k,2),I=T[0],D=T[1],A=Object(r.useState)(!1),R=Object(Ke.a)(A,2),P=R[0],L=R[1],_=Object(r.useState)(!1),U=Object(Ke.a)(_,2),z=U[0],q=U[1],B=Object(r.useState)(!1),F=Object(Ke.a)(B,2),M=F[0],Y=F[1],W=Yo(),H=Object(u.g)().pathname;Object(r.useEffect)((function(){"/parents/available"===H&&E.length&&!M&&(Y(!0),n(),E.forEach((function(e,t){t<7&&a(e,!0)}))),o.length||m.length||E.length||(n(),s("parent")),!m.length||P||E.length||(L(!0),t(I+1,7)),i.pending&&N(0),null===S&&z&&!E.length&&(t(I+1,7),q(!1))}),[m.length,l.length,I,i.pending,S,E.length]),Object(r.useEffect)((function(){return function(){d(),p([]),f([]),g([]),j([])}}),[]);var G=function(e){N(e)};return c.a.createElement(rt.a,{variant:"outlined",className:W.root},c.a.createElement(Ue.a,{container:!0,className:W.info},c.a.createElement(Ue.a,{item:!0,lg:1},c.a.createElement(Lt.a,{variant:"subtitle2",color:"primary"},"Pos")),c.a.createElement(Ue.a,{item:!0,lg:2},c.a.createElement(Lt.a,{variant:"subtitle2",color:"primary"},"Last name")),c.a.createElement(Ue.a,{item:!0,lg:2},c.a.createElement(Lt.a,{variant:"subtitle2",color:"primary"},"First name")),c.a.createElement(Ue.a,{item:!0,lg:2},c.a.createElement(Lt.a,{style:{paddingLeft:"26px"},variant:"subtitle2",color:"primary"},"Phone")),c.a.createElement(Ue.a,{item:!0,lg:2},c.a.createElement(Lt.a,{align:"center",variant:"subtitle2",color:"primary"},"Email")),c.a.createElement(Ue.a,{item:!0,lg:3},c.a.createElement(Lt.a,{style:{paddingLeft:"34px"},variant:"subtitle2",color:"primary"},"Students"))),c.a.createElement(Ue.a,{container:!0,className:Object(Ze.a)(W.content,!i.working&&!i.pending&&l.length<7?W.noFull:"",i.pending||i.working?W.spinner:"")},i.pending||i.working?c.a.createElement(gc,null):l.map((function(e,t){return c.a.createElement(Fo,{i:t,key:t,parent:e,page:I,selectedItem:y,collapseHandling:G})}))),c.a.createElement(fs.a,{className:W.footer,component:rt.a},c.a.createElement(js.a,{hidden:i.working||M,id:"search-parent",renderInput:function(e){return c.a.createElement(ic.a,Object.assign({},e,{label:"Search parent"}))},options:o,getOptionLabel:function(e){return e.name},size:"small",style:{width:300,paddingLeft:"15px"},onChange:function(e,t){return function(e){C(e),null!==e&&(a(e.id,!1),q(!0),D(0))}(t)}}),c.a.createElement(gs.a,null,c.a.createElement(hs.a,null,c.a.createElement(bs.a,null,c.a.createElement(Es.a,{hidden:i.working||null!==S||M,rowsPerPageOptions:[7],colSpan:3,count:o.length,rowsPerPage:7,page:I,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){L(!1),D(t)},ActionsComponent:Hs}))))),c.a.createElement(Sc,{isOpenAlert:null!==i.error||h.isOpen,variant:i.error?"error":"success",message:i.error?i.error:h.message,handleCloseHandling:function(){i.error?d():b(!1,"")}}))},Ho=Object(o.b)((function(e){return{request:hr(e),parents:ae(e),allStudents:Cr(e),alertSuccess:Re(e),parentsName:ne(e),available:Pe(e)}}),(function(e){return{loadParents:function(t,a){return e(Xr(t,a))},loadParent:function(t,a){return e(function(e,t){return function(){var a=Object(Vt.a)(Qt.a.mark((function a(n){var r,c,s,i,l;return Qt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(rr()),a.prev=1,a.next=4,En.a.get("".concat(jn,"/users/parent/").concat(e));case 4:if(r=a.sent,c=r.data.students.map((function(e){return e.id})),s=r.data,!c.length){a.next=13;break}return a.next=10,En.a.get("".concat(jn,"/classes/students/name"),{params:{studentsId:c}});case 10:i=a.sent,l=i.data.map((function(e){return e.id})),s.students=s.students.map((function(e){if(l.includes(e.id)){var t=i.data.find((function(t){return t.id===e.id}));e.className=t.name}else e.className="no class";return e}));case 13:n(t?$(s):H([s])),n(cr()),a.next=20;break;case 17:a.prev=17,a.t0=a.catch(1),n(sr(a.t0.message));case 20:case"end":return a.stop()}}),a,null,[[1,17]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))},loadStudents:function(){return e(function(){var e=Object(Vt.a)(Qt.a.mark((function e(t){var a;return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ur()),e.prev=1,e.next=4,En.a.get("".concat(jn,"/students"));case 4:a=e.sent,t(yr(a.data)),t(dr()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(sr(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())},loadParentName:function(t){return e($r(t))},resetRequest:function(){return e(ir())},clearParents:function(t){return e(H(t))},clearStudents:function(t){return e(yr(t))},clearParentsName:function(t){return e(V(t))},setAlertSuccess:function(t,a){return e(ve(t,a))},clearAvailable:function(t){return e(Oe(t))}}}))(Wo),Go=function(){return c.a.createElement("div",null,c.a.createElement(ka,null,"Parents"),c.a.createElement(Ho,null))},Qo=function(e){return{root:{width:"100%",backgroundColor:e.palette.secondary.dark,padding:Fe,marginBottom:e.spacing(1),"&:hover":{backgroundColor:e.palette.primary.light}},info:{fontWeight:800}}},Vo=Object(Be.a)((function(e){return Qo(e)})),Xo=function(e){var t=e.teacher,a=Vo();return c.a.createElement(rt.a,{elevation:9,className:a.root},c.a.createElement(Ue.a,{container:!0,alignItems:"center",justify:"center"},c.a.createElement(Ue.a,{item:!0,lg:4},c.a.createElement(Lt.a,{className:a.info,align:"left"},t.name)),c.a.createElement(Ue.a,{item:!0,lg:2},c.a.createElement(Lt.a,{align:"center"},t.subject)),c.a.createElement(Ue.a,{item:!0,lg:3},c.a.createElement(Lt.a,{align:"center"},t.phone)),c.a.createElement(Ue.a,{item:!0,lg:3},c.a.createElement(Bt.a,{href:"mailto:".concat(t.email)},t.email))))},$o=function(e){return{root:{display:"flex",width:"100%",flexDirection:"column",backgroundColor:"inherit",padding:Me},description:{color:e.palette.primary.light,fontSize:Fe,marginRight:Me},info:{fontWeight:800},tutor:{width:"80%",display:"inline-flex",justifyContent:"space-between"},teachers:{width:"100%",height:"376px",backgroundColor:e.palette.secondary.dark,padding:Fe,overflow:"auto"}}},Ko=Object(Be.a)((function(e){return $o(e)})),Zo=function(e){var t=e.classItem,a=Ko();return c.a.createElement(rt.a,{elevation:3,className:a.root},c.a.createElement(Lt.a,{className:a.description},"Class info:"),c.a.createElement(Ue.a,{container:!0,justify:"center",alignItems:"center",style:{padding:"14px 0"}},c.a.createElement(Ue.a,{item:!0,lg:2},c.a.createElement(Lt.a,{className:a.info,align:"center"},t.name)),c.a.createElement(Ue.a,{item:!0,lg:2},c.a.createElement("span",{className:a.description},"students:"),c.a.createElement(Lt.a,{className:a.info,display:"inline"},t.studentsAmount)),c.a.createElement(Ue.a,{item:!0,lg:8},c.a.createElement("span",{className:a.description},"class teacher:"),c.a.createElement("div",{className:a.tutor},c.a.createElement(Lt.a,{className:a.info,display:"inline"},t.tutor.name),c.a.createElement(Lt.a,{display:"inline"},t.tutor.phone),c.a.createElement(Bt.a,{className:a.info,href:"mailto:".concat(t.tutor.email)},t.tutor.email)))),c.a.createElement(Lt.a,{className:a.description},"Teachers:"),c.a.createElement(rt.a,{variant:"outlined",className:a.teachers},t.teachers.map((function(e,t){return c.a.createElement(Xo,{key:t,teacher:e})}))))},Jo=function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",height:Ve,width:"100%",padding:Fe},tabs:{backgroundColor:e.palette.action.tab,fontWeight:800},center:{justifyContent:"center"},email:{color:e.palette.action.warning,fontSize:We},content:{marginTop:Fe,display:"flex",height:"510px",width:"100%",backgroundColor:e.palette.secondary.dark,padding:Fe}}},eu=Object(Be.a)((function(e){return Jo(e)})),tu=function(e){var t=e.request,a=e.user,n=e.getClassesName,s=e.selectedClass,i=e.loadTeachers,l=e.clearSelectedClass,o=Object(r.useState)(0),u=Object(Ke.a)(o,2),d=u[0],m=u[1],p=Object(r.useState)(!1),g=Object(Ke.a)(p,2),h=g[0],b=g[1],E=Object(r.useState)(!1),j=Object(Ke.a)(E,2),v=j[0],O=j[1],y=eu();Object(r.useEffect)((function(){if(Object.values(a.students).length&&!h){var e=a.students.map((function(e){return e.id}));n(e),b(!0)}}),[a,h]),Object(r.useEffect)((function(){Object.values(a.students).length&&!Object.values(s).length&&("none"===a.students[d].className||v||(i(a.students[d].className),O(!0)))}),[a,s,v]),Object(r.useEffect)((function(){return function(){l({})}}),[]);return c.a.createElement(rt.a,{variant:"outlined",className:Object(Ze.a)(y.root,!a.students.length&&y.center)},a.students.length?c.a.createElement(c.a.Fragment,null,c.a.createElement(Lc.a,{position:"static",className:y.tabs},c.a.createElement(_c.a,{value:d,onChange:function(e,t){m(t),i(a.students[t].className)},textColor:"primary"},a.students.length&&a.students.map((function(e,a){return c.a.createElement(Uc.a,Object.assign({disabled:t.geting,className:y.tabs,key:e.id,label:"".concat(e.firstName," ").concat(e.lastName)},f(a)))})))),c.a.createElement(rt.a,{elevation:3,className:Object(Ze.a)(y.content,t.geting||!Object.values(s).length?y.center:"")},t.geting||!Object.values(s).length?c.a.createElement(gc,null):c.a.createElement(Zo,{classItem:s}))):c.a.createElement(c.a.Fragment,null,c.a.createElement(Lt.a,{style:{fontSize:"20px"}},"The parent ".concat(a.lastName," ").concat(a.firstName," has no any student assigned.")),c.a.createElement(Lt.a,null,"Contact the principal:"),c.a.createElement(Bt.a,{className:y.email,href:"mailto:rafal.pijet@gmail.com"},"principal@gmail.com")))},au=Object(o.b)((function(e){return{request:hr(e),user:J(e),selectedClass:Wn(e)}}),(function(e){return{getClassesName:function(t){return e(Jr(t))},loadTeachers:function(t){return e(function(e){return function(){var t=Object(Vt.a)(Qt.a.mark((function t(a){var n;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(fr()),t.prev=1,t.next=4,En.a.get("".concat(jn,"/class/teachers"),{params:{name:e}});case 4:n=t.sent,a(_n(n.data)),a(gr()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a(sr(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},clearSelectedClass:function(t){return e(_n(t))}}}))(tu),nu=function(){return c.a.createElement("div",null,c.a.createElement(ka,null,"Student's Teachers"),c.a.createElement(au,null))},ru=Object(Be.a)((function(e){return{root:{width:"100%",height:Ve,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},info:{padding:e.spacing(1),fontSize:He,textAlign:"center",width:"100%"}}})),cu=Object(o.b)(null,(function(e){return{setLogin:function(t){return e(M(t))},setUser:function(t){return e(Y(t))},setSelectedClass:function(t){return e(_n(t))},loadTeachers:function(t){return e(W(t))},loadParents:function(t){return e(H(t))},loadAllClasses:function(t){return e(Ln(t))},loadClassByTeacher:function(t){return e(Pn(t))},loadAllStudents:function(t){return e(yr(t))},resetRequest:function(){return e(ir())},setPath:function(t){return e(Ee(t))}}}))((function(e){var t=e.setLogin,a=e.resetRequest,n=e.setUser,s=e.loadTeachers,i=e.loadParents,l=e.loadAllClasses,o=e.loadClassByTeacher,d=e.loadAllStudents,m=e.setSelectedClass,p=e.setPath,f=Object(r.useState)(0),g=Object(Ke.a)(f,2),h=g[0],b=g[1],E=Object(r.useState)(!1),j=Object(Ke.a)(E,2),v=j[0],O=j[1],y=Object(r.useState)(!1),N=Object(Ke.a)(y,2),x=N[0],w=N[1],S=ru();return Object(r.useEffect)((function(){var e=setInterval((function(){return b((function(e){return e+1}))}),1e3);return function(){t(!1),a(),n({}),i([]),s([]),o([]),l([]),d([]),m({}),p("/"),clearInterval(e)}}),[]),Object(r.useEffect)((function(){0===h&&O(!0),5===h&&O(!1)}),[h,x]),c.a.createElement(c.a.Fragment,null,c.a.createElement(ka,null,"Logout"),c.a.createElement(rt.a,{elevation:9,className:S.root},c.a.createElement(zc.a,{in:v,timeout:500,onExited:function(){return w(!0)}},c.a.createElement("div",null,c.a.createElement(Lt.a,{className:S.info,color:"secondary"},"Thank you for using our application."),c.a.createElement(Lt.a,{className:S.info,color:"secondary"},"See you soon."))),x&&c.a.createElement(u.a,{to:"/"})))})),su=Object(o.b)((function(e){return{isLogin:K(e),loggedUser:J(e),isDark:ye(e)}}))((function(e){var t=e.isLogin,a=e.loggedUser,n=e.isDark;return t&&"parent"===a.status?c.a.createElement(Sa,{isLogin:t,loggedUser:a,isDark:n},c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"/",exact:!0,component:fi}),c.a.createElement(u.b,{path:"/grades",exact:!0,component:es}),c.a.createElement(u.b,{path:"/data",exact:!0,component:ps}),c.a.createElement(u.b,{path:"/teachers",exact:!0,component:nu}),c.a.createElement(u.b,{path:"/logout",exact:!0,component:cu}),c.a.createElement(u.b,{component:Rc}))):t&&"teacher"===a.status?c.a.createElement(Sa,{isLogin:t,loggedUser:a,isDark:n},c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"/",exact:!0,component:vi}),c.a.createElement(u.b,{path:"/diaries",exact:!0,component:Zi}),c.a.createElement(u.b,{path:"/data",exact:!0,component:fl}),c.a.createElement(u.b,{path:"/logout",exact:!0,component:cu}),c.a.createElement(u.b,{component:Rc}))):t&&"principal"===a.status?c.a.createElement(Sa,{isLogin:t,loggedUser:a,isDark:n},c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"/",exact:!0,component:xl}),c.a.createElement(u.b,{path:"/classes",exact:!0,component:ao}),c.a.createElement(u.b,{path:"/teachers",exact:!0,component:Xs}),c.a.createElement(u.b,{path:"/students",exact:!0,component:xo}),c.a.createElement(u.b,{path:"/parents"},c.a.createElement(Go,null)),c.a.createElement(u.b,{path:"/logout",exact:!0,component:cu}),c.a.createElement(u.b,{component:Rc}))):c.a.createElement(Sa,{isLogin:t,isDark:n},c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"/",exact:!0,component:gn}),c.a.createElement(u.b,{path:"/login",exact:!0,component:Dc}),c.a.createElement(u.b,{path:"/registration",exact:!0,component:Ac}),c.a.createElement(u.b,{component:Rc})))}));a(474),a(475);i.a.render(c.a.createElement((function(){return c.a.createElement(o.a,{store:Hr},c.a.createElement(l.a,null,c.a.createElement(su,null)))}),null),document.getElementById("root"))}},[[321,1,2]]]);
//# sourceMappingURL=main.80599fd6.chunk.js.map