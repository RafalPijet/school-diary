(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[18],{410:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(41),c=a(29),l=a(12),o=a(54),s=a(2),u=a(11),m=a(5),d=a(254),g=a(33),p=a(190),b=a(397),f=a(415),E=a(398),h=a(118),v=a(298),j=a(64),N=a(83),O=a(294),y=a(299),x=a(312),k=function(e){return{root:{display:"inline-flex",width:"30px",height:"30px",justifyContent:"center",alignItems:"center"},ratingNumber:{padding:"0 ".concat(e.spacing(1),"px"),cursor:"pointer",transition:".3s"},ratingNumberBig:{padding:"0 ".concat(e.spacing(1),"px"),cursor:"pointer",fontSize:"22px",fontWeight:"700",transition:".5s"},1:{color:e.palette.scales.first},2:{color:e.palette.scales.second},3:{color:e.palette.scales.third},tooltip:{backgroundColor:e.palette.action.adding}}},C=Object(d.a)((function(e){return k(e)})),S=function(e){var t=e.scales,a=e.description,n=e.date,i=e.teacher;return r.a.createElement("div",null,r.a.createElement(h.a,{variant:"subtitle2"},"scales: ".concat(t)),r.a.createElement(h.a,{variant:"subtitle2"},"description: ".concat(a)),r.a.createElement(h.a,{variant:"subtitle2"},"date: ".concat(n.substring(0,10))),r.a.createElement(h.a,{variant:"subtitle2"},"teacher: ".concat(i)))},w=function(e){var t=e.rating,a=C(),i=Object(n.useState)(a.ratingNumber),c=Object(u.a)(i,2),l=c[0],o=c[1];return r.a.createElement(y.a,{classes:{tooltip:a.tooltip},title:S(t),arrow:!0,placement:"top",TransitionComponent:x.a},r.a.createElement("div",{className:a.root},r.a.createElement(h.a,{className:Object(m.a)(l,a[t.scales]),display:"inline",variant:"subtitle1",onMouseEnter:function(){return o(a.ratingNumberBig)},onMouseLeave:function(){return o(a.ratingNumber)}},t.value)))},z=a(26),B=Object(d.a)((function(e){return{root:{padding:z.a.baseSize,backgroundColor:e.palette.action.item,marginBottom:e.spacing(1),"&:hover":{backgroundColor:e.palette.action.check}},ratings:{lineHeight:"40px"}}})),F=function(e){var t=e.rating,a=B();return r.a.createElement(p.a,{className:a.root,elevation:5},r.a.createElement(O.a,{container:!0,alignItems:"center",justify:"center"},r.a.createElement(O.a,{item:!0,lg:2},r.a.createElement(h.a,null,t.subject)),r.a.createElement(O.a,{item:!0,lg:10,className:a.ratings},t.ratings.map((function(e){return r.a.createElement(w,{key:e._id,rating:e})})))))},I=function(e){return{root:{width:"100%",padding:z.a.smallSize,backgroundColor:e.palette.secondary.dark},title:{padding:"".concat(z.a.smallSize," 0"),color:e.palette.primary.light},content:{height:"465px",overflow:"auto"}}},T=Object(d.a)((function(e){return I(e)})),q=function(e){var t=e.student,a=T();return r.a.createElement(p.a,{variant:"outlined",className:a.root},r.a.createElement(O.a,{container:!0,style:{paddingLeft:"10px"}},r.a.createElement(O.a,{item:!0,lg:2},r.a.createElement(h.a,{variant:"subtitle2",className:a.title},"Subject")),r.a.createElement(O.a,{item:!0,lg:10},r.a.createElement(h.a,{variant:"subtitle2",className:a.title,align:"center"},"Grades"))),r.a.createElement("div",{className:a.content},t.ratings.map((function(e){return r.a.createElement(F,{key:e.id,rating:e})}))))},G=Object(d.a)((function(e){return{root:{backgroundColor:e.palette.secondary.dark,width:"100%",marginTop:e.spacing(2)}}})),H=function(e){var t=e.item,a=e.value,n=e.index,i=Object(N.a)(e,["item","value","index"]),c=G();return r.a.createElement(p.a,Object.assign({className:c.root,elevation:9,role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},i),a===n&&r.a.createElement(q,{student:t}))},J=a(4),L=function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",height:z.a.contentHeight,width:"100%",padding:z.a.baseSize},tabs:{backgroundColor:e.palette.action.tab,fontWeight:800},spinner:{justifyContent:"center"},email:{color:e.palette.action.warning,fontSize:z.a.middleSize}}},M=Object(d.a)((function(e){return L(e)})),W=function(e){var t=e.user,a=e.getClassesName,i=e.request,c=Object(n.useState)(0),l=Object(u.a)(c,2),o=l[0],s=l[1],d=Object(n.useState)(!1),N=Object(u.a)(d,2),O=N[0],y=N[1],x=M(),k=Object(g.a)();Object(n.useEffect)((function(){if(Object.values(t.students).length&&!O){var e=t.students.map((function(e){return e.id}));a(e),y(!0)}}),[t,O]);return r.a.createElement(p.a,{variant:"outlined",className:Object(m.a)(x.root,i.geting||!t.students.length?x.spinner:"")},i.geting?r.a.createElement(j.a,null):r.a.createElement(r.a.Fragment,null,t.students.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{position:"static",className:x.tabs},r.a.createElement(f.a,{value:o,onChange:function(e,t){s(t)},textColor:"primary"},t.students.map((function(e,t){return r.a.createElement(E.a,Object.assign({className:x.tabs,key:e.id,label:"".concat(e.firstName," ").concat(e.lastName," - ").concat(e.className)},Object(J.a)(t)))})))),t.students.map((function(e,t){return r.a.createElement(H,{item:e,index:t,value:o,key:e.id,dir:k.direction})}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{style:{fontSize:"20px"}},"The parent ".concat(t.lastName," ").concat(t.firstName," has no any student assigned.")),r.a.createElement(h.a,null,"Contact the principal:"),r.a.createElement(v.a,{className:x.email,href:"mailto:rafal.pijet@gmail.com"},"principal@gmail.com"))))},D=Object(c.b)((function(e){return{user:Object(l.s)(e),request:Object(s.n)(e)}}),(function(e){return{getClassesName:function(t){return e(Object(o.m)(t))}}}))(W);t.default=function(){return r.a.createElement("div",null,r.a.createElement(i.a,null,"Student Grades"),r.a.createElement(D,null))}}}]);
//# sourceMappingURL=18.5808bc3d.chunk.js.map